(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7909],{44174:function(e){e.exports=function(e,n,t,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];n(r,a,t(a),e)}return r}},81119:function(e,n,t){var r=t(89881);e.exports=function(e,n,t,i){return r(e,(function(e,r,o){n(i,e,t(e),o)})),i}},55189:function(e,n,t){var r=t(44174),i=t(81119),o=t(67206),a=t(1469);e.exports=function(e,n){return function(t,l){var s=a(t)?r:i,c=n?n():{};return s(t,e,o(l,2),c)}}},43174:function(e,n,t){var r=t(55189)((function(e,n,t){e[t?0:1].push(n)}),(function(){return[[],[]]}));e.exports=r},911:function(e,n,t){"use strict";var r=t(85893);t(67294);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function a(){var e,n,t=(e=["\n  z-index: 10;\n  background-color: ",";\n  color: white;\n  margin: 0;\n  padding: 0;\n  padding: 8px 0;\n  position: absolute;\n  right: ",";\n  top: 0;\n  text-align: center;\n  transform: translateX(30%) translateY(0%) rotate(45deg);\n  transform: ",";\n  transform-origin: top left;\n  width: 96px;\n\n  &:before,\n  &:after {\n    background-color: ",';\n    content: "";\n    height: 100%;\n    margin: 0 -1px; /* Removes tiny gap */\n    position: absolute;\n    top: 0;\n    width: 100%;\n  }\n\n  &:before {\n    right: 100%;\n  }\n\n  &:after {\n    left: 100%;\n  }\n\n  & > div {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    width: 96px;\n  }\n'],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return a=function(){return t},t}var l=t(186).ZP.div(a(),(function(e){var n=e.variantColor,t=void 0===n?"secondary":n;return e.theme.colors[t]}),(function(e){return"right"===e.ribbonPosition?0:"auto"}),(function(e){return"right"===e.ribbonPosition?"translateX(30%) translateY(0%) rotate(45deg)":"translateX(0%) translateY(200%) rotate(-45deg)"}),(function(e){var n=e.variantColor,t=void 0===n?"secondary":n;return e.theme.colors[t]})),s=function(e){var n=e.variantColor,t=e.text,a=e.ribbonPosition,s=o(e,["variantColor","text","ribbonPosition"]);return(0,r.jsx)(l,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){i(e,n,t[n])}))}return e}({variantColor:n,ribbonPosition:a},s,{children:(0,r.jsx)("div",{title:t,children:t})}))};s.defaultProps={ribbonPosition:"right"},n.Z=s},7909:function(e,n,t){"use strict";t.d(n,{Z:function(){return br}});var r=t(85893),i=t(67294),o=t(186),a=t(2593),l=t(61744),s=t(44431),c=t.n(s),u=t(77044),d=t(5545),f=t(87761),x=t(87388),p=t(8413),h=t(75472),m=t.n(h),j=t(43174),b=t.n(j),g=t(99150),v=t(76538),y=t(42858),k=t(11438),Z=t(40508),S=t(83559),w=t(44482),P=t(14450),O=t(98560),T=t(77176),D=t(46245),C=t(35128),A=t(11163),z=t(8080),I=t(911),B=t(77005),F=t(30621),L=t(95239),E=t(3779),K=t(12020),R=t(73322),W=t(68624),M=t(56934),H=t(97971),U=t(67532),$=t(6741),G=t(99273),N=t(70335),V=t(54626),X=t(51029),Y=function(e){var n=e.pool,t=e.isLoading,i=void 0!==t&&t,o=n.sousId,a=n.stakingToken,l=n.earningToken,s=(0,g.$G)().t,c=(0,V.X_)(a.address||""),u=(0,X.iB)(c,o,l.symbol),d=u.handleApprove,f=u.pendingTx;return(0,r.jsx)(r.Fragment,{children:i?(0,r.jsx)($.Z,{width:"100%",height:"52px"}):(0,r.jsx)(G.Z,{isLoading:f,endIcon:f?(0,r.jsx)(N.Z,{spin:!0,color:"currentColor"}):null,disabled:f,onClick:d,width:"100%",children:s("Enable")})})},Q=t(97561),q=t(75669),J=t(19782),_=t(97324),ee=t(45295),ne=t(65044),te=t(20922),re=t(67576),ie=t(29458);function oe(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function ae(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==t.return||t.return()}finally{if(l)throw i}}return o}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return oe(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return oe(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var le=function(e){var n=e.pool,t=e.stakingTokenBalance,i=e.stakedBalance,o=e.isBnbPool,a=e.isStaked,l=e.isLoading,s=void 0!==l&&l,c=n.stakingToken,u=n.stakingTokenPrice,x=n.stakingLimit,p=n.isFinished,h=n.userData,m=(0,g.$G)().t,j=(0,ne.mW)(i,c.decimals),b=(0,ne.mW)(i.multipliedBy(u),c.decimals),v=ae((0,Q.Z)((0,r.jsx)(re.Z,{tokenSymbol:c.symbol})),1)[0],y=ae((0,Q.Z)((0,r.jsx)(ie.Z,{isBnbPool:o,pool:n,stakingTokenBalance:t,stakingTokenPrice:u})),1)[0],k=ae((0,Q.Z)((0,r.jsx)(ie.Z,{stakingTokenBalance:t,isBnbPool:o,pool:n,stakingTokenPrice:u,isRemovingStake:!0})),1)[0],Z=(0,q.Z)(m("You\u2019ve already staked the maximum amount you can stake in this pool!"),{placement:"bottom"}),S=Z.targetRef,w=Z.tooltip,P=Z.tooltipVisible,O=x.gt(0)&&h.stakedBalance.gte(x);return(0,r.jsx)(f.Z,{flexDirection:"column",children:s?(0,r.jsx)($.Z,{width:"100%",height:"52px"}):a?(0,r.jsxs)(f.Z,{justifyContent:"space-between",alignItems:"center",children:[(0,r.jsx)(f.Z,{flexDirection:"column",children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(te.Z,{bold:!0,fontSize:"20px",decimals:3,value:j}),0!==u&&(0,r.jsx)(d.Z,{fontSize:"12px",color:"textSubtle",children:(0,r.jsx)(te.Z,{fontSize:"12px",color:"textSubtle",decimals:2,value:b,prefix:"~",unit:" USD"})})]})}),(0,r.jsxs)(f.Z,{children:[(0,r.jsx)(J.Z,{variant:"secondary",onClick:k,mr:"6px",children:(0,r.jsx)(_.Z,{color:"primary",width:"24px"})}),O?(0,r.jsx)("span",{ref:S,children:(0,r.jsx)(J.Z,{variant:"secondary",disabled:!0,children:(0,r.jsx)(ee.Z,{color:"textDisabled",width:"24px",height:"24px"})})}):(0,r.jsx)(J.Z,{variant:"secondary",onClick:t.gt(0)?y:v,disabled:p,children:(0,r.jsx)(ee.Z,{color:"primary",width:"24px",height:"24px"})})]}),P&&w]}):(0,r.jsx)(G.Z,{disabled:p,onClick:t.gt(0)?y:v,children:m("Stake")})})},se=t(34051),ce=t.n(se),ue=t(74602),de=t(55739),fe=t(50783),xe=t(53382),pe=t(23917),he=t(789),me=t(61134),je=t(71418),be=t(4701),ge=t(9640),ve=t(50059),ye=t(76582),ke=t(5634);function Ze(e,n,t,r,i,o,a){try{var l=e[o](a),s=l.value}catch(c){return void t(c)}l.done?n(s):Promise.resolve(s).then(r,i)}function Se(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function a(e){Ze(o,r,i,a,l,"next",e)}function l(e){Ze(o,r,i,a,l,"throw",e)}a(void 0)}))}}function we(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Pe(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){we(e,n,t[n])}))}return e}var Oe={gasLimit:ke.QL},Te=function(){var e=Se(ce().mark((function e(n){var t;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,ye.Z)(),e.abrupt("return",n.deposit("0",Pe({},Oe,{gasPrice:t})));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),De=function(){var e=Se(ce().mark((function e(n){var t;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,ye.Z)(),e.abrupt("return",n.deposit(Pe({},Oe,{value:C.HW,gasPrice:t})));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Ce=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=(0,V.AP)(e),r=(0,V.y8)(),o=(0,i.useCallback)(Se(ce().mark((function i(){return ce().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==e){i.next=2;break}return i.abrupt("return",(0,ve.sA)(r,0));case 2:if(!n){i.next=4;break}return i.abrupt("return",De(t));case 4:return i.abrupt("return",Te(t));case 5:case"end":return i.stop()}}),i)}))),[n,r,t,e]);return{onReward:o}},Ae=t(2930);function ze(e,n,t,r,i,o,a){try{var l=e[o](a),s=l.value}catch(c){return void t(c)}l.done?n(s):Promise.resolve(s).then(r,i)}var Ie=function(e){var n=e.formattedBalance,t=e.fullBalance,o=e.earningToken,a=e.earningsDollarValue,l=e.sousId,s=e.isBnbPool,c=e.isCompoundPool,p=void 0!==c&&c,h=e.onDismiss,m=(0,g.$G)().t,j=(0,pe.Z)().theme,b=(0,he.Z)().toastSuccess,v=(0,u.Ge)().account,y=(0,ge.TL)(),k=(0,je.Z)(),Z=k.fetchWithCatchTxError,S=k.loading,w=Ce(l,s).onReward,P=(0,Ae.Z)(l,s).onStake,O=(0,i.useState)(p),T=O[0],D=O[1],C=(0,q.Z)((0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.Z,{mb:"12px",children:m("Compound: collect and restake CAKE into pool.")}),(0,r.jsx)(d.Z,{children:m("Harvest: collect CAKE and send to wallet")})]}),{placement:"bottom-end",tooltipOffset:[20,10]}),A=C.targetRef,z=C.tooltip,I=C.tooltipVisible,B=function(){var e,n=(e=ce().mark((function e(){var n;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z((function(){return T?P(t,o.decimals):w()}));case 2:(null===(n=e.sent)||void 0===n?void 0:n.status)&&(T?b("".concat(m("Compounded"),"!"),(0,r.jsx)(me.YO,{txHash:n.transactionHash,children:m("Your %symbol% earnings have been re-invested into the pool!",{symbol:o.symbol})})):b("".concat(m("Harvested"),"!"),(0,r.jsx)(me.YO,{txHash:n.transactionHash,children:m("Your %symbol% earnings have been sent to your wallet!",{symbol:o.symbol})})),y((0,be.cR)(l,v)),y((0,be.J4)(l,v)),y((0,be.yi)(l,v)),null===h||void 0===h||h());case 4:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function a(e){ze(o,r,i,a,l,"next",e)}function l(e){ze(o,r,i,a,l,"throw",e)}a(void 0)}))});return function(){return n.apply(this,arguments)}}();return(0,r.jsxs)(ue.Z,{title:"".concat(o.symbol," ").concat(m(p?"Collect":"Harvest")),onDismiss:h,headerBackground:j.colors.gradients.cardHeader,children:[p&&(0,r.jsxs)(f.Z,{justifyContent:"center",alignItems:"center",mb:"24px",children:[(0,r.jsxs)(de.Z,{activeIndex:T?0:1,scale:"sm",variant:"subtle",onItemClick:function(e){return D(!e)},children:[(0,r.jsx)(fe.Z,{as:"button",children:m("Compound")}),(0,r.jsx)(fe.Z,{as:"button",children:m("Harvest")})]}),(0,r.jsx)(f.Z,{ml:"10px",ref:A,children:(0,r.jsx)(xe.Z,{color:"textSubtle"})}),I&&z]}),(0,r.jsxs)(f.Z,{justifyContent:"space-between",alignItems:"center",mb:"24px",children:[(0,r.jsxs)(d.Z,{children:[m(T?"Compounding":"Harvesting"),":"]}),(0,r.jsxs)(f.Z,{flexDirection:"column",children:[(0,r.jsxs)(x.Z,{children:[n," ",o.symbol]}),a>0&&(0,r.jsx)(d.Z,{fontSize:"12px",color:"textSubtle",children:"~".concat((0,ne.uf)(a)," USD")})]})]}),(0,r.jsx)(G.Z,{mt:"8px",onClick:B,isLoading:S,endIcon:S?(0,r.jsx)(N.Z,{spin:!0,color:"currentColor"}):null,children:m(S?"Confirming":"Confirm")}),(0,r.jsx)(G.Z,{variant:"text",onClick:h,pb:"0px",children:m("Close Window")})]})};function Be(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Fe(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==t.return||t.return()}finally{if(l)throw i}}return o}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return Be(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Be(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Le=function(e){var n=e.earnings,t=e.earningToken,i=e.sousId,o=e.isBnbPool,a=e.earningTokenPrice,l=e.isLoading,s=void 0!==l&&l,c=(0,g.$G)().t,u=(0,ne.mW)(n,t.decimals),p=(0,ne.uf)(u,3,3),h=(0,ne.mW)(n.multipliedBy(a),t.decimals),m=(0,ne.NJ)(n,t.decimals),j=n.toNumber()>0,b=0===i,v=Fe((0,Q.Z)((0,r.jsx)(Ie,{formattedBalance:p,fullBalance:m,earningToken:t,earningsDollarValue:h,sousId:i,isBnbPool:o,isCompoundPool:b})),1)[0];return(0,r.jsxs)(f.Z,{justifyContent:"space-between",alignItems:"center",mb:"16px",children:[(0,r.jsx)(f.Z,{flexDirection:"column",children:s?(0,r.jsx)($.Z,{width:"80px",height:"48px"}):(0,r.jsx)(r.Fragment,{children:j?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(te.Z,{bold:!0,fontSize:"20px",decimals:5,value:u}),a>0&&(0,r.jsx)(te.Z,{display:"inline",fontSize:"12px",color:"textSubtle",decimals:2,prefix:"~",value:h,unit:" USD"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x.Z,{color:"textDisabled",children:"0"}),(0,r.jsx)(d.Z,{fontSize:"12px",color:"textDisabled",children:"0 USD"})]})})}),(0,r.jsx)(G.Z,{disabled:!j,onClick:v,children:c(b?"Collect":"Harvest")})]})},Ee=t(95506);function Ke(){var e,n,t=(e=["\n  display: inline;\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return Ke=function(){return t},t}var Re=(0,o.ZP)(d.Z)(Ke()),We=function(e){var n=e.pool,t=e.stakedBalance,i=n.sousId,o=n.stakingToken,a=n.earningToken,l=n.harvest,s=n.poolCategory,u=n.userData,d=n.earningTokenPrice,x=n.profileRequirement,p=s===H.jh.BINANCE,h=(0,g.$G)().t,m=(null===u||void 0===u?void 0:u.allowance)?new(c())(u.allowance):C.HW,j=(null===u||void 0===u?void 0:u.stakingTokenBalance)?new(c())(u.stakingTokenBalance):C.HW,b=(null===u||void 0===u?void 0:u.pendingReward)?new(c())(u.pendingReward):C.HW,v=!m.gt(0)&&!p,y=t.gt(0),k=!u,Z=(0,U.f)(x),S=Z.notMeetRequired,w=Z.notMeetThreshold;return(0,r.jsx)(f.Z,{flexDirection:"column",children:(0,r.jsxs)(f.Z,{flexDirection:"column",children:[l&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(M.Z,{display:"inline",children:[(0,r.jsx)(Re,{color:"secondary",textTransform:"uppercase",bold:!0,fontSize:"12px",children:"".concat(a.symbol," ")}),(0,r.jsx)(Re,{color:"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:h("Earned")})]}),(0,r.jsx)(Le,{earnings:b,earningToken:a,sousId:i,earningTokenPrice:d,isBnbPool:p,isLoading:k})]}),(0,r.jsxs)(M.Z,{display:"inline",children:[(0,r.jsxs)(Re,{color:y?"secondary":"textSubtle",textTransform:"uppercase",bold:!0,fontSize:"12px",children:[y?o.symbol:h("Stake")," "]}),(0,r.jsx)(Re,{color:y?"textSubtle":"secondary",textTransform:"uppercase",bold:!0,fontSize:"12px",children:y?h("Staked"):"".concat(o.symbol)})]}),S||w?(0,r.jsx)(Ee.Q,{profileRequirement:x}):v?(0,r.jsx)(Y,{pool:n,isLoading:k}):(0,r.jsx)(le,{isLoading:k,pool:n,stakingTokenBalance:j,stakedBalance:t,isBnbPool:p,isStaked:y})]})})},Me=function(e){var n=e.pool,t=e.account,i=n.sousId,o=n.stakingToken,a=n.earningToken,l=n.isFinished,s=n.userData,u=(0,g.$G)().t,x=(null===s||void 0===s?void 0:s.stakedBalance)?new(c())(s.stakedBalance):C.HW,p=x.gt(0),h="CAKE"===a.symbol&&"CAKE"===o.symbol;return(0,r.jsxs)(K.r,{isFinished:l&&0!==i,ribbon:l&&(0,r.jsx)(I.Z,{variantColor:"textDisabled",text:u("Finished")}),children:[(0,r.jsxs)(W.Z,{isStaking:p,isFinished:l&&0!==i,children:[(0,r.jsx)(W.e,{title:h?u("Manual"):u("Earn %asset%",{asset:a.symbol}),subTitle:h?u("Earn CAKE, stake CAKE"):u("Stake %symbol%",{symbol:o.symbol})}),(0,r.jsx)(L.q,{primaryToken:a,secondaryToken:o,width:64,height:64})]}),(0,r.jsxs)(B.Z,{children:[(0,r.jsx)(E.Z,{pool:n,stakedBalance:x}),(0,r.jsx)(f.Z,{mt:"24px",flexDirection:"column",children:t?(0,r.jsx)(We,{pool:n,stakedBalance:x}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.Z,{mb:"10px",textTransform:"uppercase",fontSize:"12px",color:"textSubtle",bold:!0,children:u("Start earning")}),(0,r.jsx)(F.Z,{})]})})]}),(0,r.jsx)(R.Z,{pool:n,account:t})]})},He=t(70061),Ue=t(53629),$e=t(89690),Ge=t(86787),Ne=t(70357);function Ve(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function Xe(){var e=Ve(["\n  display: flex;\n  align-items: center;\n  margin-left: 10px;\n\n  "," {\n    margin-left: 8px;\n  }\n"]);return Xe=function(){return e},e}function Ye(){var e=Ve(["\n  flex-wrap: wrap;\n  justify-content: space-between;\n  display: flex;\n  align-items: center;\n  width: 100%;\n\n  > div {\n    padding: 8px 0px;\n  }\n\n  "," {\n    justify-content: flex-start;\n    width: auto;\n\n    > div {\n      padding: 0;\n    }\n  }\n"]);return Ye=function(){return e},e}function Qe(){var e=Ve(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  a {\n    padding-left: 12px;\n    padding-right: 12px;\n  }\n\n  "," {\n    margin-left: 16px;\n  }\n"]);return Qe=function(){return e},e}var qe=o.ZP.div(Xe(),d.Z),Je=o.ZP.div(Ye(),(function(e){return e.theme.mediaQueries.sm})),_e=o.ZP.div(Qe(),(function(e){return e.theme.mediaQueries.sm})),en=function(e){var n=e.stakedOnly,t=e.setStakedOnly,i=e.hasStakeInFinishedPools,o=e.viewMode,a=e.setViewMode,l=(0,A.useRouter)(),s=(0,g.$G)().t,c="/pools"===l.asPath,u=(0,r.jsx)($e.Z,{idPrefix:"clickPool",viewMode:o,onToggle:function(e){return a(e)}}),f=(0,r.jsx)(_e,{children:(0,r.jsxs)(de.Z,{activeIndex:c?0:1,scale:"sm",variant:"subtle",children:[(0,r.jsx)(fe.Z,{as:Ue.a,to:"/pools",replace:!0,children:s("Live")}),(0,r.jsx)(Ge.Z,{show:i,children:(0,r.jsx)(fe.Z,{id:"finished-pools-button",as:Ue.a,to:"/pools/history",replace:!0,children:s("Finished")})})]})}),x=(0,r.jsxs)(qe,{children:[(0,r.jsx)(Ne.Z,{checked:n,onChange:function(){return t(!n)},scale:"sm"}),(0,r.jsxs)(d.Z,{children:[" ",s("Staked only")]})]});return(0,r.jsxs)(Je,{children:[u,x,f]})},nn=t(59667),tn=t(51888),rn=t(45101),on=t(30798),an=t(56311),ln=t(9070);function sn(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function cn(){var e=sn(["\n  color: black;\n\n  padding: 24px 8px;\n\n  flex-direction: column;\n  justify-content: flex-start;\n"]);return cn=function(){return e},e}function un(){var e=sn(["\n  flex-direction: column;\n  justify-content: center;\n  max-height: 40px;\n  "," {\n    line-height: 1;\n  }\n"]);return un=function(){return e},e}var dn=(0,o.ZP)(f.Z)(cn()),fn=(0,o.ZP)(f.Z)(un(),d.Z),xn=dn;function pn(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function hn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){pn(e,n,t[n])}))}return e}function mn(){var e,n,t=(e=["\n  flex: 5;\n  flex-direction: row;\n  padding-left: 12px;\n  "," {\n    flex: 1 0 150px;\n    padding-left: 32px;\n  }\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return mn=function(){return t},t}var jn=(0,o.ZP)(xn)(mn(),(function(e){return e.theme.mediaQueries.sm})),bn=function(e){var n=e.pool,t=(0,g.$G)().t,i=(0,tn.Z)().isMobile,o=n.sousId,a=n.stakingToken,l=n.earningToken,s=n.userData,u=n.isFinished,f=n.vaultKey,x=(0,y.eB)(n.vaultKey).userData.userShares,p=x&&x.gt(0),h=a.symbol,m=l.symbol,j=((null===s||void 0===s?void 0:s.stakedBalance)?new(c())(s.stakedBalance):C.HW).gt(0),b=0===o,v=f?p:j,k="".concat(t("Earn")," ").concat(m),Z="".concat(t("Stake")," ").concat(h),S=0!==o||0===o&&!i;return f?(k=ln.Y[f].name,Z=ln.Y[f].description):b&&(k=t("Manual CAKE"),Z="".concat(t("Earn")," CAKE ").concat(t("Stake").toLocaleLowerCase()," CAKE")),(0,r.jsxs)(jn,{role:"cell",children:[f?(0,r.jsx)(an.Z,hn({},ln.Y[f].tokenImage,{mr:"8px",width:40,height:40})):(0,r.jsx)(L.q,{primaryToken:l,secondaryToken:a,mr:"8px",width:40,height:40}),(0,r.jsxs)(fn,{children:[v&&(0,r.jsx)(d.Z,{fontSize:"12px",bold:!0,color:u?"failure":"secondary",textTransform:"uppercase",children:t("Staked")}),(0,r.jsx)(d.Z,{bold:!i,small:i,children:k}),S&&(0,r.jsx)(d.Z,{fontSize:"12px",color:"textSubtle",children:Z})]})]})};function gn(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function vn(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==t.return||t.return()}finally{if(l)throw i}}return o}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return gn(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return gn(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yn(){var e,n,t=(e=["\n  flex: 4.5;\n  "," {\n    flex: 1 0 120px;\n  }\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return yn=function(){return t},t}var kn=(0,o.ZP)(xn)(yn(),(function(e){return e.theme.mediaQueries.sm})),Zn=function(e){var n=e.pool,t=e.account,i=e.userDataLoaded,o=(0,g.$G)().t,a=(0,tn.Z)().isMobile,l=n.sousId,s=n.earningToken,u=n.poolCategory,x=n.userData,p=n.earningTokenPrice,h=0===l,m=(null===x||void 0===x?void 0:x.pendingReward)?new(c())(x.pendingReward):C.HW,j=(0,ne.mW)(m,s.decimals),b=(0,ne.mW)(m.multipliedBy(p),s.decimals),v=t&&m.gt(0),y=(0,ne.NJ)(m,s.decimals),k=(0,ne.uf)(j,3,3),Z=u===H.jh.BINANCE,S=o("%asset% Earned",{asset:s.symbol}),w=vn((0,Q.Z)((0,r.jsx)(Ie,{formattedBalance:k,fullBalance:y,earningToken:s,earningsDollarValue:b,sousId:l,isBnbPool:Z,isCompoundPool:h})),1)[0];return(0,r.jsx)(kn,{role:"cell",children:(0,r.jsxs)(fn,{children:[(0,r.jsx)(d.Z,{fontSize:"12px",color:"textSubtle",textAlign:"left",children:S}),!i&&t?(0,r.jsx)($.Z,{width:"80px",height:"16px"}):(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(f.Z,{children:(0,r.jsxs)(M.Z,{mr:"8px",height:"32px",onClick:v?function(e){e.stopPropagation(),w()}:void 0,children:[(0,r.jsx)(te.Z,{mt:"4px",bold:!a,fontSize:a?"14px":"16px",color:v?"primary":"textDisabled",decimals:v?5:1,value:v?j:0}),v?(0,r.jsx)(r.Fragment,{children:p>0&&(0,r.jsx)(te.Z,{display:"inline",fontSize:"12px",color:"textSubtle",decimals:2,prefix:"~",value:b,unit:" USD"})}):(0,r.jsx)(d.Z,{mt:"4px",fontSize:"12px",color:"textDisabled",children:"0 USD"})]})})})]})})},Sn=t(90834);function wn(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function Pn(){var e=wn(["\n  flex: 4.5;\n  "," {\n    flex: 1 0 120px;\n  }\n  "," {\n    flex: 2 0 100px;\n  }\n"]);return Pn=function(){return e},e}function On(){var e=wn(["\n  align-self: center;\n"]);return On=function(){return e},e}var Tn=(0,o.ZP)(xn)(Pn(),(function(e){return e.theme.mediaQueries.sm}),(function(e){return e.theme.mediaQueries.lg})),Dn=o.ZP.div(On()),Cn=function(e){var n=e.account,t=(0,g.$G)().t,i=(0,tn.Z)().isMobile,o=(0,y.eB)(rn.om.IfoPool).userData.isLoading,a=(0,y.Eo)(),l=n&&a.gt(0),s=(0,ne.mW)(a),c=(0,Sn.Tx)(s),u=t("IFO Credit"),x=(0,q.Z)((0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.Z,{children:t("Your entry limit in the next IFO Public Sale is determined by your IFO credit. This is calculated by the average CAKE balance of the principal amount in the IFO pool during the last credit calculation period.")}),(0,r.jsx)(d.Z,{children:t("Please note: even the pool is auto compounding. Amount of profits will not be included during IFO credit calculations.")})]}),{placement:"bottom"}),p=x.targetRef,h=x.tooltip,m=x.tooltipVisible;return(0,r.jsx)(Tn,{role:"cell",children:(0,r.jsxs)(fn,{children:[(0,r.jsx)(d.Z,{fontSize:"12px",color:"textSubtle",textAlign:"left",children:u}),o&&n?(0,r.jsx)($.Z,{width:"80px",height:"16px"}):(0,r.jsxs)(r.Fragment,{children:[m&&h,(0,r.jsxs)(f.Z,{children:[(0,r.jsxs)(M.Z,{mr:"8px",height:"32px",children:[(0,r.jsx)(te.Z,{mt:"4px",bold:!i,fontSize:i?"14px":"16px",color:l?"primary":"textDisabled",decimals:l?5:1,value:l?s:0}),l?(0,r.jsx)(te.Z,{display:"inline",fontSize:"12px",color:"textSubtle",decimals:2,prefix:"~",value:c||0,unit:" USD"}):(0,r.jsx)(d.Z,{mt:"4px",fontSize:"12px",color:"textDisabled",children:"0 USD"})]}),l&&!i&&(0,r.jsx)(Dn,{ref:p,children:(0,r.jsx)(xe.Z,{color:"textSubtle"})})]})]})]})})},An=t(67039),zn=t(61312);function In(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Bn(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Fn(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function Ln(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==t.return||t.return()}finally{if(l)throw i}}return o}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return In(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return In(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function En(){var e,n,t=(e=["\n  &:hover {\n    opacity: 0.5;\n  }\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return En=function(){return t},t}var Kn=(0,o.ZP)(f.Z)(En()),Rn=function(e){var n,t,i=e.pool,o=e.showIcon,a=e.stakedBalance,l=e.performanceFee,s=void 0===l?0:l,u=Fn(e,["pool","showIcon","stakedBalance","performanceFee"]),d=i.stakingToken,f=i.earningToken,x=i.isFinished,p=i.earningTokenPrice,h=i.stakingTokenPrice,m=i.userData,j=i.apr,b=i.rawApr,v=i.vaultKey,y=(0,g.$G)().t,k=(null===m||void 0===m?void 0:m.stakingTokenBalance)?new(c())(m.stakingTokenBalance):C.HW,Z=d.address?"/swap?outputCurrency=".concat(d.address):"/swap",S=Ln((0,Q.Z)((0,r.jsx)(zn.Z,{earningTokenPrice:p,stakingTokenPrice:h,stakingTokenBalance:a.plus(k),apr:v?b:j,stakingTokenSymbol:d.symbol,linkLabel:y("Get %symbol%",{symbol:d.symbol}),linkHref:Z,earningTokenSymbol:f.symbol,autoCompoundFrequency:null!==(t=null===(n=ln.Y[v])||void 0===n?void 0:n.autoCompoundFrequency)&&void 0!==t?t:0,performanceFee:s})),1)[0],w=function(e){e.stopPropagation(),S()};return(0,r.jsx)(Kn,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){Bn(e,n,t[n])}))}return e}({alignItems:"center",justifyContent:"flex-start"},u,{children:j||x?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(te.Z,{onClick:w,fontSize:"16px",isDisabled:x,value:x?0:j,decimals:2,unit:"%"}),!x&&o&&(0,r.jsx)(G.Z,{onClick:w,variant:"text",width:"20px",height:"20px",padding:"0px",marginLeft:"4px",children:(0,r.jsx)(An.Z,{color:"textSubtle",width:"20px"})})]}):(0,r.jsx)($.Z,{width:"80px",height:"16px"})}))},Wn=function(e){var n=e.pool,t=(0,g.$G)().t,i=(0,tn.Z)().isMobile,o=n.userData,a=(null===o||void 0===o?void 0:o.stakedBalance)?new(c())(o.stakedBalance):C.HW;return(0,r.jsx)(xn,{role:"cell",flex:["1 0 50px","1 0 50px","2 0 100px","2 0 100px","1 0 120px"],children:(0,r.jsxs)(fn,{children:[(0,r.jsx)(d.Z,{fontSize:"12px",color:"textSubtle",textAlign:"left",children:t("APR")}),(0,r.jsx)(Rn,{pool:n,stakedBalance:a,showIcon:!i})]})})};function Mn(){var e,n,t=(e=["\n  flex: 2 0 100px;\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return Mn=function(){return t},t}var Hn=(0,o.ZP)(xn)(Mn()),Un=function(e){var n=e.pool,t=(0,g.$G)().t,o=n.sousId,a=n.stakingToken,l=n.totalStaked,s=n.vaultKey,u=(0,y.eB)(s).totalCakeInVault,x=(0,y.KV)(),p=Object.values(x).reduce((function(e,n){return e.plus(n.totalCakeInVault)}),C.HW),h=0===o,m=(0,i.useMemo)((function(){if(s)return(0,ne.mW)(u,a.decimals);if(h){var e=new(c())(l).minus(p);return(0,ne.mW)(e,a.decimals)}return(0,ne.mW)(l,a.decimals)}),[s,u,h,l,a.decimals,p]);return(0,r.jsx)(Hn,{role:"cell",children:(0,r.jsxs)(fn,{children:[(0,r.jsx)(d.Z,{fontSize:"12px",color:"textSubtle",textAlign:"left",children:t("Total staked")}),l&&l.gte(0)?(0,r.jsx)(f.Z,{height:"20px",alignItems:"center",children:(0,r.jsx)(te.Z,{fontSize:"16px",value:m,decimals:0,unit:" ".concat(a.symbol)})}):(0,r.jsx)($.Z,{width:"80px",height:"16px"})]})})},$n=t(46747),Gn=t(89174),Nn=t(38328),Vn=t(37063),Xn=t(53136);function Yn(){var e,n,t=(e=["\n  flex: 2 0 100px;\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return Yn=function(){return t},t}var Qn=(0,o.ZP)(xn)(Yn()),qn=function(e){var n=e.pool,t=n.sousId,i=n.totalStaked,o=n.startBlock,a=n.endBlock,l=n.isFinished,s=(0,Vn.je)(),c=(0,g.$G)().t,u=(0,Xn.zy)(n,s),x=u.shouldShowBlockCountdown,p=u.blocksUntilStart,h=u.blocksRemaining,m=u.hasPoolStarted,j=u.blocksToDisplay,b=0===t,v=x?(0,r.jsxs)(f.Z,{alignItems:"center",children:[(0,r.jsxs)(f.Z,{flex:"1.3",children:[(0,r.jsx)(te.Z,{fontSize:"16px",value:j,decimals:0}),(0,r.jsx)(d.Z,{ml:"4px",textTransform:"lowercase",children:c("Blocks")})]}),(0,r.jsx)(f.Z,{flex:"1",children:(0,r.jsx)($n.Z,{external:!0,href:(0,Nn.XR)(m?a:o,"countdown"),onClick:function(e){return e.stopPropagation()},children:(0,r.jsx)(Gn.Z,{ml:"4px"})})})]}):(0,r.jsx)(d.Z,{children:"-"}),y=!s||!h&&!p,k=(m&&!i.gt(0)||y)&&!b&&!l;return(0,r.jsx)(Qn,{role:"cell",children:(0,r.jsxs)(fn,{children:[(0,r.jsx)(d.Z,{fontSize:"12px",color:"textSubtle",textAlign:"left",children:c(m||!x?"Ends in":"Starts in")}),k?(0,r.jsx)($.Z,{width:"80px",height:"16px"}):v]})})},Jn=t(96913);function _n(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function et(){var e=_n(["\n  flex-direction: row;\n  justify-content: flex-end;\n  align-items: center;\n  flex: 1;\n  padding-right: 12px;\n  padding-left: 0px;\n  "," {\n    flex: 0 0 120px;\n    padding-right: 32px;\n    padding-left: 8px;\n  }\n"]);return et=function(){return e},e}function nt(){var e=_n(["\n  transform: ",";\n  height: 24px;\n"]);return nt=function(){return e},e}var tt=(0,o.ZP)(xn)(et(),(function(e){return e.theme.mediaQueries.md})),rt=(0,o.ZP)(Jn.Z)(nt(),(function(e){return e.toggled?"rotate(180deg)":"rotate(0)"})),it=function(e){var n=e.expanded,t=e.isFullLayout,i=(0,g.$G)().t;return(0,r.jsxs)(tt,{role:"cell",children:[t&&(0,r.jsx)(d.Z,{color:"primary",bold:!0,children:i(n?"Hide":"Details")}),(0,r.jsx)(rt,{color:"primary",toggled:n})]})},ot=t(65333),at=t(15725),lt=t(75312),st=t(55878),ct=t(49058),ut=t(4985);function dt(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function ft(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==t.return||t.return()}finally{if(l)throw i}}return o}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return dt(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return dt(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var xt=function(e){var n=e.sousId,t=e.poolCategory,i=e.earningToken,o=e.userData,a=e.userDataLoaded,l=e.earningTokenPrice,s=(0,g.$G)().t,p=(0,u.Ge)().account,h=(null===o||void 0===o?void 0:o.pendingReward)?new(c())(o.pendingReward):C.HW,m=(0,ne.mW)(h,i.decimals),j=(0,ne.mW)(h.multipliedBy(l),i.decimals),b=h.gt(0),v=(0,ne.NJ)(h,i.decimals),y=(0,ne.uf)(m,3,3),k=0===n,Z=t===H.jh.BINANCE,S=ft((0,Q.Z)((0,r.jsx)(Ie,{formattedBalance:y,fullBalance:v,earningToken:i,earningsDollarValue:j,sousId:n,isBnbPool:Z,isCompoundPool:k})),1)[0],w=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(d.Z,{fontSize:"12px",bold:!0,color:"secondary",as:"span",textTransform:"uppercase",children:[i.symbol," "]}),(0,r.jsx)(d.Z,{fontSize:"12px",bold:!0,color:"textSubtle",as:"span",textTransform:"uppercase",children:s("Earned")})]});return p?a?(0,r.jsxs)(ut.sX,{children:[(0,r.jsx)(ut.Ad,{children:w}),(0,r.jsxs)(ut.O6,{children:[(0,r.jsx)(f.Z,{flex:"1",pt:"16px",flexDirection:"column",alignSelf:"flex-start",children:(0,r.jsx)(r.Fragment,{children:b?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(te.Z,{lineHeight:"1",bold:!0,fontSize:"20px",decimals:5,value:m}),l>0&&(0,r.jsx)(te.Z,{display:"inline",fontSize:"12px",color:"textSubtle",decimals:2,prefix:"~",value:j,unit:" USD"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x.Z,{color:"textDisabled",children:"0"}),(0,r.jsx)(d.Z,{fontSize:"12px",color:"textDisabled",children:"0 USD"})]})})}),(0,r.jsx)(G.Z,{disabled:!b,onClick:S,children:s(k?"Collect":"Harvest")})]})]}):(0,r.jsxs)(ut.sX,{children:[(0,r.jsx)(ut.Ad,{children:w}),(0,r.jsx)(ut.O6,{children:(0,r.jsx)($.Z,{width:180,height:"32px",marginTop:14})})]}):(0,r.jsxs)(ut.sX,{children:[(0,r.jsx)(ut.Ad,{children:w}),(0,r.jsxs)(ut.O6,{children:[(0,r.jsx)(x.Z,{children:"0"}),(0,r.jsx)(G.Z,{disabled:!0,children:s(k?"Collect":"Harvest")})]})]})},pt=t(86437),ht=t(18733),mt=t(21754),jt=function(e){var n=e.userDataLoaded,t=e.earningTokenPrice,i=e.vaultKey,o=(0,g.$G)().t,a=(0,u.Ge)().account,l=(0,y.eB)(i),s=l.userData,c=s.cakeAtLastUserAction,p=s.userShares,h=l.pricePerFullShare,m=l.fees.performanceFee,j=(0,Xn.UN)(a,c,p,h,t),b=j.hasAutoEarnings,v=j.autoCakeToDisplay,k=j.autoUsdToDisplay,Z=b,S=(0,q.Z)(o("Subtracted automatically from each yield harvest and burned."),{placement:"bottom-start"}),w=S.targetRef,P=S.tooltip,O=S.tooltipVisible,T=(0,r.jsx)(d.Z,{fontSize:"12px",bold:!0,color:"secondary",as:"span",textTransform:"uppercase",children:o("Recent CAKE profit")});return a?n?(0,r.jsxs)(ut.sX,{isAutoVault:!0,children:[(0,r.jsx)(ut.Ad,{children:T}),(0,r.jsxs)(ut.O6,{children:[(0,r.jsx)(f.Z,{flex:"1",pt:"16px",flexDirection:"column",alignSelf:"flex-start",children:(0,r.jsx)(r.Fragment,{children:Z?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(te.Z,{lineHeight:"1",bold:!0,fontSize:"20px",decimals:5,value:v}),t>0&&(0,r.jsx)(te.Z,{display:"inline",fontSize:"12px",color:"textSubtle",decimals:2,prefix:"~",value:k,unit:" USD"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x.Z,{color:"textDisabled",children:"0"}),(0,r.jsx)(d.Z,{fontSize:"12px",color:"textDisabled",children:"0 USD"})]})})}),(0,r.jsxs)(f.Z,{flex:"1.3",flexDirection:"column",alignSelf:"flex-start",alignItems:"flex-start",children:[(0,r.jsx)(mt.Z,{vaultKey:i,isTableVariant:!0}),(0,r.jsxs)(f.Z,{mb:"2px",justifyContent:"space-between",alignItems:"center",children:[O&&P,(0,r.jsx)(ht.Z,{ref:w,small:!0,children:o("Performance Fee")}),(0,r.jsx)(f.Z,{alignItems:"center",children:(0,r.jsxs)(d.Z,{ml:"4px",small:!0,children:[m/100,"%"]})})]})]})]})]}):(0,r.jsxs)(ut.sX,{children:[(0,r.jsx)(ut.Ad,{children:T}),(0,r.jsx)(ut.O6,{children:(0,r.jsx)($.Z,{width:180,height:"32px",marginTop:14})})]}):(0,r.jsxs)(ut.sX,{children:[(0,r.jsx)(ut.Ad,{children:T}),(0,r.jsx)(ut.O6,{children:(0,r.jsx)(x.Z,{children:"0"})})]})},bt=t(91869);function gt(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function vt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){gt(e,n,t[n])}))}return e}function yt(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function kt(){var e=yt(["\n  from {\n    max-height: 0px;\n  }\n  to {\n    max-height: 700px;\n  }\n"]);return kt=function(){return e},e}function Zt(){var e=yt(["\n  from {\n    max-height: 700px;\n  }\n  to {\n    max-height: 0px;\n  }\n"]);return Zt=function(){return e},e}function St(){var e=yt(["\n          "," 300ms linear forwards\n        "]);return St=function(){return e},e}function wt(){var e=yt(["\n          "," 300ms linear forwards\n        "]);return wt=function(){return e},e}function Pt(){var e=yt(["\n  animation: ",";\n  overflow: hidden;\n  background: ",";\n  display: flex;\n  flex-direction: column-reverse;\n  justify-content: center;\n  padding: 12px;\n\n  "," {\n    flex-direction: row;\n    padding: 16px 32px;\n  }\n"]);return Pt=function(){return e},e}function Ot(){var e=yt(["\n  display: flex;\n  flex-direction: column;\n\n  "," {\n    flex-direction: row;\n    align-items: center;\n    flex-grow: 1;\n    flex-basis: 0;\n  }\n"]);return Ot=function(){return e},e}function Tt(){var e=yt(["\n  flex-grow: 0;\n  flex-shrink: 0;\n  flex-basis: auto;\n  padding: 8px 8px;\n  "," {\n    padding: 0;\n    flex-basis: 230px;\n  }\n"]);return Tt=function(){return e},e}function Dt(){var e=yt(["\n  display: flex;\n  justify-content: space-between;\n\n  "," {\n    display: inline-block;\n\n    > div {\n      display: inline;\n      margin-right: 4px;\n    }\n  }\n"]);return Dt=function(){return e},e}var Ct=(0,o.F4)(kt()),At=(0,o.F4)(Zt()),zt=o.ZP.div(Pt(),(function(e){return e.expanded?(0,o.iv)(St(),Ct):(0,o.iv)(wt(),At)}),(function(e){return e.theme.colors.dropdown}),(function(e){return e.theme.mediaQueries.lg})),It=o.ZP.div(Ot(),(function(e){return e.theme.mediaQueries.sm})),Bt=(0,o.ZP)(M.Z)(Tt(),(function(e){return e.theme.mediaQueries.lg})),Ft=(0,o.ZP)(M.Z)(Dt(),(function(e){return e.theme.mediaQueries.lg})),Lt=function(e){var n,t=e.account,i=e.pool,o=e.userDataLoaded,a=e.expanded,l=e.breakpoints,s=i.sousId,u=i.stakingToken,x=i.earningToken,p=i.totalStaked,h=i.startBlock,m=i.endBlock,j=i.stakingLimit,b=i.stakingLimitEndBlock,v=i.contractAddress,k=i.userData,Z=i.vaultKey,S=i.profileRequirement,w=i.isFinished,P=(0,g.$G)().t,O=(0,st.Kn)(v),T=(0,st.ZX)(Z),D=(0,Vn.je)(),A=l.isXs,z=l.isSm,I=l.isMd,B=(A||z)&&0===s,F=(0,Xn.zy)(i,D),L=F.shouldShowBlockCountdown,E=F.blocksUntilStart,K=F.blocksRemaining,R=F.hasPoolStarted,W=F.blocksToDisplay,M=!!(null===(n=window.ethereum)||void 0===n?void 0:n.isMetaMask),H=x.address||"",U=(0,y.eB)(Z),N=U.totalCakeInVault,V=U.userData.userShares,X=U.fees.performanceFeeAsDecimal,Y=U.pricePerFullShare,Q=(0,y.KV)(),J=Object.values(Q).reduce((function(e,n){return e.plus(n.totalCakeInVault)}),C.HW),_=(null===k||void 0===k?void 0:k.stakingTokenBalance)?new(c())(k.stakingTokenBalance):C.HW,ee=(null===k||void 0===k?void 0:k.stakedBalance)?new(c())(k.stakedBalance):C.HW,re=(0,Xn.ur)(V,Y).cakeAsBigNumber,ie=Z?re.plus(_):ee.plus(_),oe=0===s,ae=(0,q.Z)(P("Total amount of %symbol% staked in this pool",{symbol:u.symbol}),{placement:"bottom"}),le=ae.targetRef,se=ae.tooltip,ce=ae.tooltipVisible,ue=P("You must harvest and compound your earnings from this pool manually."),de=P("Any funds you stake in this pool will be automagically harvested and restaked (compounded) for you."),fe=(0,q.Z)(Z?de:ue,{placement:"bottom-start"}),pe=fe.targetRef,he=fe.tooltip,me=fe.tooltipVisible,je=S&&(S.required||S.thresholdPoints.gt(0))?(0,r.jsxs)(Ft,{mb:"8px",children:[(0,r.jsxs)(d.Z,{children:[P("Requirement"),":"]}),(0,r.jsxs)(d.Z,{textAlign:["right",,,,"left"],children:[S.required&&P("Pancake Profile")," ",S.required&&S.thresholdPoints.gt(0)&&(0,r.jsx)(d.Z,{as:"span",display:["none",,,,"inline"],children:" & "}),S.thresholdPoints.gt(0)&&(0,r.jsxs)(d.Z,{children:[S.thresholdPoints.toNumber().toLocaleString()," ",P("Profile Points")]})]})]}):null,be=!w&&j.gt(0)?(0,r.jsx)(bt.Z,{currentBlock:D,hasPoolStarted:R,stakingLimit:j,stakingLimitEndBlock:b,stakingToken:u}):null,ge=K||E?(0,r.jsxs)(f.Z,{mb:"8px",justifyContent:"space-between",children:[(0,r.jsxs)(d.Z,{children:[P(R?"Ends in":"Starts in"),":"]}),(0,r.jsx)(f.Z,{children:(0,r.jsxs)($n.Z,{external:!0,href:(0,Nn.XR)(R?m:h,"countdown"),children:[(0,r.jsx)(te.Z,{fontSize:"16px",value:W,decimals:0,color:"primary"}),(0,r.jsx)(d.Z,{ml:"4px",color:"primary",textTransform:"lowercase",children:P("Blocks")}),(0,r.jsx)(Gn.Z,{ml:"4px",color:"primary"})]})})]}):(0,r.jsx)($.Z,{width:"56px",height:"16px"}),ve=(0,r.jsxs)(f.Z,{justifyContent:"space-between",alignItems:"center",mb:"8px",children:[(0,r.jsxs)(d.Z,{children:[P(Z?"APY":"APR"),":"]}),(0,r.jsx)(Rn,{pool:i,showIcon:!0,stakedBalance:ie,performanceFee:Z?X:0})]}),ye=(0,r.jsxs)(f.Z,{justifyContent:"space-between",alignItems:"center",mb:"8px",children:[(0,r.jsxs)(d.Z,{maxWidth:["50px","100%"],children:[P("Total staked"),":"]}),(0,r.jsxs)(f.Z,{alignItems:"center",children:[p&&p.gte(0)?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(te.Z,{fontSize:"16px",value:function(){if(Z)return(0,ne.mW)(N,u.decimals);if(oe){var e=new(c())(p).minus(J);return(0,ne.mW)(e,u.decimals)}return(0,ne.mW)(p,u.decimals)}(),decimals:0,unit:" ".concat(u.symbol)}),(0,r.jsx)("span",{ref:le,children:(0,r.jsx)(xe.Z,{color:"textSubtle",width:"20px",ml:"4px"})})]}):(0,r.jsx)($.Z,{width:"56px",height:"16px"}),ce&&se]})]});return(0,r.jsxs)(zt,{expanded:a,children:[(0,r.jsxs)(Bt,{children:[je,be,(A||z)&&ve,(A||z||I)&&ye,L&&ge,(0,r.jsx)(f.Z,{mb:"8px",justifyContent:["flex-end","flex-end","flex-start"],children:(0,r.jsx)(ot.Z,{href:"/info/token/".concat(x.address),bold:!1,children:P("See Token Info")})}),(0,r.jsx)(f.Z,{mb:"8px",justifyContent:["flex-end","flex-end","flex-start"],children:(0,r.jsx)(ot.Z,{href:x.projectLink,bold:!1,children:P("View Project Site")})}),O&&(0,r.jsx)(f.Z,{mb:"8px",justifyContent:["flex-end","flex-end","flex-start"],children:(0,r.jsx)(ot.Z,{href:"".concat(ke.OS,"/address/").concat(Z?T:O),bold:!1,children:P("View Contract")})}),t&&M&&H&&(0,r.jsx)(f.Z,{mb:"8px",justifyContent:["flex-end","flex-end","flex-start"],children:(0,r.jsxs)(G.Z,{variant:"text",p:"0",height:"auto",onClick:function(){return(0,ct.$)(H,x.symbol,x.decimals)},children:[(0,r.jsx)(d.Z,{color:"primary",children:P("Add to Metamask")}),(0,r.jsx)(at.Z,{ml:"4px"})]})}),Z?(0,r.jsx)(lt.yd,{}):(0,r.jsx)(lt.EM,{}),me&&he,(0,r.jsx)("span",{ref:pe,children:(0,r.jsx)(xe.Z,{ml:"4px",width:"20px",height:"20px",color:"textSubtle"})})]}),(0,r.jsxs)(It,{children:[B&&(0,r.jsx)(d.Z,{mt:"4px",mb:"16px",color:"textSubtle",children:Z?ln.Y[Z].description:"".concat(P("Earn")," CAKE ").concat(P("Stake").toLocaleLowerCase()," CAKE")}),i.vaultKey?(0,r.jsx)(jt,vt({},i,{userDataLoaded:o})):(0,r.jsx)(xt,vt({},i,{userDataLoaded:o})),(0,r.jsx)(pt.Z,{pool:i,userDataLoaded:o})]})]})},Et=t(37528);function Kt(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function Rt(){var e=Kt(["\n  flex: 4.5;\n  "," {\n    flex: 1 0 120px;\n  }\n"]);return Rt=function(){return e},e}function Wt(){var e=Kt(["\n  align-self: center;\n"]);return Wt=function(){return e},e}var Mt=(0,o.ZP)(xn)(Rt(),(function(e){return e.theme.mediaQueries.sm})),Ht=o.ZP.div(Wt()),Ut=function(e){var n=e.pool,t=e.account,i=(0,g.$G)().t,o=(0,tn.Z)().isMobile,a=n.earningTokenPrice,l=(0,y.eB)(n.vaultKey),s=l.userData,c=s.isLoading,u=s.cakeAtLastUserAction,x=s.userShares,p=l.pricePerFullShare,h=(0,Xn.UN)(t,u,x,p,a),m=h.hasAutoEarnings,j=h.autoCakeToDisplay,b=h.autoUsdToDisplay,v=i("Recent CAKE profit"),k=j,Z=m,S=b,w=(0,q.Z)((0,r.jsx)(Et.Z,{pool:n,account:t}),{placement:"bottom"}),P=w.targetRef,O=w.tooltip,T=w.tooltipVisible;return(0,r.jsx)(Mt,{role:"cell",children:(0,r.jsxs)(fn,{children:[(0,r.jsx)(d.Z,{fontSize:"12px",color:"textSubtle",textAlign:"left",children:v}),c&&t?(0,r.jsx)($.Z,{width:"80px",height:"16px"}):(0,r.jsxs)(r.Fragment,{children:[T&&O,(0,r.jsxs)(f.Z,{children:[(0,r.jsxs)(M.Z,{mr:"8px",height:"32px",children:[(0,r.jsx)(te.Z,{mt:"4px",bold:!o,fontSize:o?"14px":"16px",color:Z?"primary":"textDisabled",decimals:Z?5:1,value:Z?k:0}),Z?(0,r.jsx)(r.Fragment,{children:a>0&&(0,r.jsx)(te.Z,{display:"inline",fontSize:"12px",color:"textSubtle",decimals:2,prefix:"~",value:S,unit:" USD"})}):(0,r.jsx)(d.Z,{mt:"4px",fontSize:"12px",color:"textDisabled",children:"0 USD"})]}),Z&&!o&&(0,r.jsx)(Ht,{ref:P,children:(0,r.jsx)(xe.Z,{color:"textSubtle"})})]})]})]})})},$t=function(e){var n=e.pool,t=(0,g.$G)().t,i=(0,tn.Z)().isMobile,o=(0,y.eB)(n.vaultKey),a=o.userData.userShares,l=o.fees.performanceFeeAsDecimal,s=o.pricePerFullShare,c=(0,Xn.ur)(a,s).cakeAsBigNumber;return(0,r.jsx)(xn,{role:"cell",flex:["1 0 50px","1 0 50px","2 0 100px","2 0 100px","1 0 120px"],children:(0,r.jsxs)(fn,{children:[(0,r.jsx)(d.Z,{fontSize:"12px",color:"textSubtle",textAlign:"left",children:t("APY")}),(0,r.jsx)(Rn,{pool:n,stakedBalance:c,performanceFee:l,showIcon:!i})]})})};function Gt(){var e,n,t=(e=["\n  flex: 2 0 100px;\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return Gt=function(){return t},t}var Nt=(0,o.ZP)(xn)(Gt()),Vt=function(e){var n=e.pool,t=e.account,i=e.userDataLoaded,o=(0,g.$G)().t,a=(0,tn.Z)().isMobile,l=(0,y.eB)(n.vaultKey),s=l.userData,u=s.isLoading,x=s.userShares,p=l.pricePerFullShare,h=x&&x.gt(0),m=n.vaultKey&&h,j=(0,Xn.ur)(x,p),b=j.cakeAsBigNumber,v=j.cakeAsNumberBalance,k=n.stakingTokenPrice,Z=n.stakingToken,S=n.userData,w=(0,ne.mW)(b.multipliedBy(k),Z.decimals),P=(null===S||void 0===S?void 0:S.stakedBalance)?new(c())(S.stakedBalance):C.HW,O=(0,ne.mW)(P,Z.decimals),T=(0,ne.mW)(P.multipliedBy(k),Z.decimals),D="".concat(n.stakingToken.symbol," ").concat(o("Staked")),A=t&&(P.gt(0)||m),z=n.vaultKey?u:!i;return(0,r.jsx)(Nt,{role:"cell",children:(0,r.jsxs)(fn,{children:[(0,r.jsx)(d.Z,{fontSize:"12px",color:"textSubtle",textAlign:"left",children:D}),z&&t?(0,r.jsx)($.Z,{width:"80px",height:"16px"}):(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(f.Z,{children:(0,r.jsxs)(M.Z,{mr:"8px",height:"32px",children:[(0,r.jsx)(te.Z,{mt:"4px",bold:!a,fontSize:a?"14px":"16px",color:A?"primary":"textDisabled",decimals:A?5:1,value:A?n.vaultKey?Number.isNaN(v)?0:v:O:0}),A?(0,r.jsx)(te.Z,{display:"inline",fontSize:"12px",color:"textSubtle",decimals:2,prefix:"~",value:n.vaultKey?w:T,unit:" USD"}):(0,r.jsx)(d.Z,{mt:"4px",fontSize:"12px",color:"textDisabled",children:"0 USD"})]})})})]})})};function Xt(){var e,n,t=(e=["\n  background-color: transparent;\n  display: flex;\n  cursor: pointer;\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return Xt=function(){return t},t}var Yt=o.ZP.div(Xt()),Qt=function(e){var n=e.pool,t=e.account,o=e.userDataLoaded,a=(0,tn.Z)(),l=a.isXs,s=a.isSm,c=a.isMd,u=a.isLg,d=a.isXl,f=a.isXxl,x=a.isTablet,p=a.isDesktop,h=u||d||f,m=d||f,j=(0,i.useState)(!1),b=j[0],g=j[1],v=(0,on.Z)(b,300),y=0===n.sousId;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(Yt,{role:"row",onClick:function(){g((function(e){return!e}))},children:[(0,r.jsx)(bn,{pool:n}),n.vaultKey?(m&&n.vaultKey===rn.om.IfoPool||n.vaultKey===rn.om.CakeVault)&&(0,r.jsx)(Ut,{pool:n,account:t}):(0,r.jsx)(Zn,{pool:n,account:t,userDataLoaded:o}),n.vaultKey===rn.om.IfoPool?(0,r.jsx)(Cn,{account:t}):m&&y?(0,r.jsx)(Vt,{pool:n,account:t,userDataLoaded:o}):null,h&&!y&&(0,r.jsx)(Un,{pool:n}),n.vaultKey?(0,r.jsx)($t,{pool:n}):(0,r.jsx)(Wn,{pool:n}),h&&y&&(0,r.jsx)(Un,{pool:n}),p&&!y&&(0,r.jsx)(qn,{pool:n}),(0,r.jsx)(it,{expanded:b,isFullLayout:x||p})]}),v&&(0,r.jsx)(Lt,{account:t,pool:n,userDataLoaded:o,expanded:b,breakpoints:{isXs:l,isSm:s,isMd:c,isLg:u,isXl:d,isXxl:f}})]})};function qt(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function Jt(){var e=qt(["\n  border-radius: ",";\n  scroll-margin-top: 64px;\n\n  background-color: ",";\n  > div:not(:last-child) {\n    border-bottom: 2px solid ",";\n  }\n"]);return Jt=function(){return e},e}function _t(){var e=qt(["\n  border-radius: ",";\n  background-color: ",";\n  padding: 1px 1px 3px 1px;\n  background-size: 400% 400%;\n"]);return _t=function(){return e},e}function er(){var e=qt(["\n  display: flex;\n  justify-content: center;\n  padding-top: 5px;\n  padding-bottom: 5px;\n"]);return er=function(){return e},e}var nr=o.ZP.div(Jt(),(function(e){return e.theme.radii.card}),(function(e){return e.theme.card.background}),(function(e){return e.theme.colors.disabled})),tr=o.ZP.div(_t(),(function(e){return e.theme.radii.card}),(function(e){return e.theme.colors.cardBorder})),rr=o.ZP.div(er()),ir=function(e){var n,t=e.pools,o=e.userDataLoaded,a=e.account,l=(0,g.$G)().t,s=(0,i.useRef)(null);return(0,r.jsx)(tr,{children:(0,r.jsxs)(nr,{id:"pools-table",role:"table",ref:s,children:[t.map((function(e){return(0,r.jsx)(Qt,{pool:e,account:a,userDataLoaded:o},null!==(n=e.vaultKey)&&void 0!==n?n:e.sousId)})),(0,r.jsx)(rr,{children:(0,r.jsxs)(G.Z,{variant:"text",onClick:function(){s.current.scrollIntoView({behavior:"smooth"})},children:[l("To Top"),(0,r.jsx)(nn.Z,{color:"primary"})]})})]})})};function or(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function ar(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==t.return||t.return()}finally{if(l)throw i}}return o}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return or(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return or(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lr(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function sr(){var e=lr(["\n  justify-content: center;\n"]);return sr=function(){return e},e}function cr(){var e=lr(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n  position: relative;\n\n  justify-content: space-between;\n  flex-direction: column;\n  margin-bottom: 32px;\n\n  "," {\n    flex-direction: row;\n    flex-wrap: wrap;\n    padding: 16px 32px;\n    margin-bottom: 0;\n  }\n"]);return cr=function(){return e},e}function ur(){var e=lr(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  padding: 8px 0px;\n\n  "," {\n    width: auto;\n    padding: 0;\n  }\n"]);return ur=function(){return e},e}function dr(){var e=lr(["\n  > "," {\n    font-size: 12px;\n  }\n"]);return dr=function(){return e},e}function fr(){var e=lr(["\n  > div {\n    flex: 1;\n  }\n"]);return fr=function(){return e},e}var xr=(0,o.ZP)(Z.Z)(sr()),pr=o.ZP.div(cr(),(function(e){return e.theme.mediaQueries.sm})),hr=o.ZP.div(ur(),(function(e){return e.theme.mediaQueries.sm})),mr=o.ZP.div(dr(),d.Z),jr=(0,o.ZP)(f.Z)(fr()),br=function(){var e=(0,A.useRouter)(),n=(0,g.$G)().t,t=(0,u.Ge)().account,o=(0,y.Oh)(),s=o.pools,h=o.userDataLoaded,j=ar((0,T.tw)(),2),Z=j[0],I=j[1],B=ar((0,T.Yi)(),2),F=B[0],L=B[1],E=(0,i.useState)(12),K=E[0],R=E[1],W=(0,v.Z)(),M=W.observerRef,H=W.isIntersecting,U=(0,i.useState)(""),$=U[0],G=U[1],N=(0,i.useState)("hot"),V=N[0],X=N[1],Y=(0,i.useRef)(0),Q=(0,i.useMemo)((function(){return b()(s,(function(e){return e.isFinished}))}),[s]),q=Q[0],J=Q[1],_=(0,i.useMemo)((function(){return q.filter((function(e){if(e.vaultKey){var n=e;return n.userData.userShares&&n.userData.userShares.gt(0)}return e.userData&&new(c())(e.userData.stakedBalance).isGreaterThan(0)}))}),[q]),ee=(0,i.useCallback)((function(){return J.filter((function(e){if(e.vaultKey){var n=e;return n.userData.userShares&&n.userData.userShares.gt(0)}return e.userData&&new(c())(e.userData.stakedBalance).isGreaterThan(0)}))}),[J]),ne=_.length>0;(0,y.l7)(),(0,i.useEffect)((function(){H&&R((function(e){return e<=Y.current?e+12:e}))}),[H]);var te,re=e.pathname.includes("history"),ie=(0,i.useCallback)((function(e){return G(e.target.value)}),[]),oe=(0,i.useCallback)((function(e){return X(e.value)}),[]);te=re?Z?_:q:Z?ee():J,te=(0,i.useMemo)((function(){var e=function(e,n,t,r){switch(n){case"apr":return m()(r,(function(e){return e.apr?e.apr:0}),"desc");case"earned":return m()(r,(function(n){if(!n.userData||!n.earningTokenPrice)return 0;if(n.vaultKey){var t=n;return t.userData&&t.userData.userShares?(0,Xn.UN)(e,t.userData.cakeAtLastUserAction,t.userData.userShares,t.pricePerFullShare,t.earningTokenPrice).autoUsdToDisplay:0}return n.userData.pendingReward.times(n.earningTokenPrice).toNumber()}),"desc");case"totalStaked":var i=t.reduce((function(e,n){if(n.vaultKey){var t=n;return t.totalCakeInVault?t.totalCakeInVault.plus(e):e}return e}),C.HW);return m()(r,(function(e){var n,t=Number.NaN;if(e.vaultKey){var r=e;e.stakingTokenPrice&&r.totalCakeInVault.isFinite()&&(t=+(0,l.bM)(a.O$.from(r.totalCakeInVault.toString()),e.stakingToken.decimals)*e.stakingTokenPrice)}else if(0===e.sousId){var o;if((null===(o=e.totalStaked)||void 0===o?void 0:o.isFinite())&&e.stakingTokenPrice&&i.isFinite()){var s=a.O$.from(e.totalStaked.toString()).sub(i.toString());t=+(0,l.bM)(s,e.stakingToken.decimals)*e.stakingTokenPrice}}else(null===(n=e.totalStaked)||void 0===n?void 0:n.isFinite())&&e.stakingTokenPrice&&(t=+(0,l.bM)(a.O$.from(e.totalStaked.toString()),e.stakingToken.decimals)*e.stakingTokenPrice);return Number.isFinite(t)?t:0}),"desc");case"latest":return m()(r,(function(e){return Number(e.sousId)}),"desc");default:return r}}(t,V,s,te).slice(0,K);if($){var n=(0,k.b)($.toLowerCase());return e.filter((function(e){return(0,k.b)(e.earningToken.symbol.toLowerCase()).includes(n)}))}return e}),[t,V,s,te,K,$]),Y.current=te.length;var ae=(0,r.jsx)(xr,{children:te.map((function(e){return e.vaultKey?(0,r.jsx)(He.Z,{pool:e,showStakedOnly:Z},e.vaultKey):(0,r.jsx)(Me,{pool:e,account:t},e.sousId)}))}),le=(0,r.jsx)(ir,{pools:te,account:t,userDataLoaded:h});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(w.Z,{children:(0,r.jsx)(f.Z,{justifyContent:"space-between",flexDirection:["column",null,null,"row"],children:(0,r.jsxs)(f.Z,{flex:"1",flexDirection:"column",mr:["8px",0],children:[(0,r.jsx)(x.Z,{as:"h1",scale:"xxl",color:"secondary",mb:"24px",children:n("Syrup Pools")}),(0,r.jsx)(x.Z,{scale:"md",color:"text",children:n("Just stake some tokens to earn.")}),(0,r.jsx)(x.Z,{scale:"md",color:"text",children:n("High APR, low risk.")})]})})}),(0,r.jsxs)(S.Z,{children:[(0,r.jsxs)(pr,{children:[(0,r.jsx)(en,{stakedOnly:Z,setStakedOnly:I,hasStakeInFinishedPools:ne,viewMode:F,setViewMode:L}),(0,r.jsxs)(hr,{children:[(0,r.jsxs)(mr,{children:[(0,r.jsx)(d.Z,{fontSize:"12px",bold:!0,color:"textSubtle",textTransform:"uppercase",children:n("Sort by")}),(0,r.jsx)(jr,{children:(0,r.jsx)(O.Z,{options:[{label:n("Hot"),value:"hot"},{label:n("APR"),value:"apr"},{label:n("Earned"),value:"earned"},{label:n("Total staked"),value:"totalStaked"},{label:n("Latest"),value:"latest"}],onOptionChange:oe})})]}),(0,r.jsxs)(mr,{style:{marginLeft:16},children:[(0,r.jsx)(d.Z,{fontSize:"12px",bold:!0,color:"textSubtle",textTransform:"uppercase",children:n("Search")}),(0,r.jsx)(P.Z,{onChange:ie,placeholder:"Search Pools"})]})]})]}),re&&(0,r.jsx)(d.Z,{fontSize:"20px",color:"failure",pb:"32px",children:n("These pools are no longer distributing rewards. Please unstake your tokens.")}),t&&!h&&Z&&(0,r.jsx)(f.Z,{justifyContent:"center",mb:"4px",children:(0,r.jsx)(z.Z,{})}),F===D.wO.CARD?ae:le,(0,r.jsx)("div",{ref:M}),(0,r.jsx)(p.Z,{mx:"auto",mt:"12px",src:"/images/decorations/3d-syrup-bunnies.png",alt:"Pancake illustration",width:192,height:184.5})]})]})}}}]);