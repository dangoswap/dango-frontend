(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1026],{67762:function(e){e.exports=function(e,t){for(var n,r=-1,i=e.length;++r<i;){var o=t(e[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}},12297:function(e,t,n){var r=n(67762),i=n(6557);e.exports=function(e){return e&&e.length?r(e,i):0}},96182:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/nfts/collections/[collectionAddress]/[tokenId]",function(){return n(51280)}])},59667:function(e,t,n){"use strict";var r=n(85893),i=(n(67294),n(17804));function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.Z=function(e){return(0,r.jsx)(i.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}({viewBox:"0 0 24 24"},e,{children:(0,r.jsx)("path",{d:"M8.11997 14.7101L12 10.8301L15.88 14.7101C16.27 15.1001 16.9 15.1001 17.29 14.7101C17.68 14.3201 17.68 13.6901 17.29 13.3001L12.7 8.7101C12.31 8.3201 11.68 8.3201 11.29 8.7101L6.69997 13.3001C6.30997 13.6901 6.30997 14.3201 6.69997 14.7101C7.08997 15.0901 7.72997 15.1001 8.11997 14.7101Z"})}))}},36196:function(e,t,n){"use strict";var r=n(85893),i=n(186),o=n(68112),c=n(83559);function a(){var e,t,n=(e=["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return a=function(){return n},n}var s=(0,i.ZP)(c.Z)(a());t.Z=function(){return(0,r.jsx)(s,{children:(0,r.jsx)(o.Z,{})})}},71685:function(e,t,n){"use strict";var r=n(67294),i=n(6199);t.Z=function(){var e=(0,r.useState)(Date.now()),t=e[0],n=e[1];return{lastUpdated:t,previousLastUpdated:(0,i.Z)(t),setLastUpdated:(0,r.useCallback)((function(){n(Date.now())}),[n])}}},6199:function(e,t,n){"use strict";var r=n(67294);t.Z=function(e){var t=(0,r.useRef)();return(0,r.useEffect)((function(){t.current=e}),[e]),t.current}},51280:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return ar},default:function(){return sr}});var r,i,o=n(85893),c=n(11163),a=n(36196),s=n(40580),l=n(34051),u=n.n(l),f=n(67294),d=n(77044),x=n(87761),p=n(75472),h=n.n(p),m=n(83559),v=n(13968),b=n(86849),j=n(71685),y=n(6199),g=n(27892),Z=n(94587),w=n(5634),S=n(74437),P=n(97561),O=n(99273),k=n(53503),A=n(77005),F=n(56934),I=n(5545),C=n(46326),D=n(6741),N=n(99150),T=n(65044),E=n(7879),B=n(50398),L=n(90834),R=n(21046),M=n(23917),z=n(24319),W=n(35128),U=n(29748),_=n(61744),$=n(54626),G=n(71228),Y=n(67218),J=n(21600),V=n(789),H=n(61134),q=n(186),X=n(74602),K=n(20522);function Q(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function ee(){var e=Q(["\n  & > div:last-child {\n    padding: 0;\n  }\n  & h2:first-of-type {\n    ",";\n  }\n  & svg:first-of-type {\n    ",";\n  }\n"]);return ee=function(){return e},e}function te(){var e=Q(["\n  margin: 16px 0;\n  padding: 16px;\n  background-color: ",";\n  border: 1px solid ",";\n  border-radius: ",";\n  grid-template-columns: 1fr 1fr;\n  grid-row-gap: 8px;\n"]);return te=function(){return e},e}!function(e){e[e.BNB=0]="BNB",e[e.WBNB=1]="WBNB"}(r||(r={})),function(e){e[e.REVIEW=0]="REVIEW",e[e.APPROVE_AND_CONFIRM=1]="APPROVE_AND_CONFIRM",e[e.CONFIRM=2]="CONFIRM",e[e.TX_CONFIRMED=3]="TX_CONFIRMED"}(i||(i={}));var ne=(0,q.ZP)(X.Z)(ee(),(function(e){var t=e.stage,n=e.theme;return t===i.APPROVE_AND_CONFIRM||t===i.CONFIRM?"color: ".concat(n.colors.textSubtle):null}),(function(e){var t=e.stage,n=e.theme;return t===i.APPROVE_AND_CONFIRM||t===i.CONFIRM?"fill: ".concat(n.colors.textSubtle):null})),re=(0,q.ZP)(K.Z)(te(),(function(e){return e.theme.colors.background}),(function(e){return e.theme.colors.cardBorder}),(function(e){return e.theme.radii.default})),ie=function(e){var t=e.bnbAmount,n=e.isLoading,r=e.isInsufficient,i=(0,L.Hf)();if(n)return(0,o.jsxs)(x.Z,{flexDirection:"column",justifySelf:"flex-end",children:[(0,o.jsx)(D.Z,{width:"86px",height:"20px",mb:"6px"}),(0,o.jsx)(D.Z,{width:"86px",height:"20px"})]});var c=(0,E.as)(i,t);return(0,o.jsxs)(x.Z,{justifySelf:"flex-end",flexDirection:"column",children:[(0,o.jsxs)(x.Z,{justifyContent:"flex-end",children:[(0,o.jsx)(C.Z,{height:16,width:16,mr:"4px"}),(0,o.jsx)(I.Z,{bold:!0,color:r?"failure":"text",children:"".concat(t.toLocaleString(void 0,{minimumFractionDigits:3,maximumFractionDigits:5}))})]}),(0,o.jsx)(I.Z,{small:!0,color:"textSubtle",textAlign:"right",children:"($".concat(c.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),")")})]})},oe=n(30621),ce=n(46747),ae=n(55739),se=n(50783),le=n(81709),ue=n(38328),fe=n(97971),de=n(33482),xe=function(e){var t=e.nftToBuy,n=e.paymentCurrency,i=e.setPaymentCurrency,c=e.nftPrice,a=e.walletBalance,s=e.walletFetchStatus,l=e.notEnoughBnbForPurchase,u=e.continueToNextStage,f=(0,N.$G)().t,p=(0,d.Ge)().account;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(x.Z,{px:"24px",pt:"24px",flexDirection:"column",children:[(0,o.jsxs)(x.Z,{children:[(0,o.jsx)(de._v,{src:t.image.thumbnail,height:68,width:68,mr:"16px"}),(0,o.jsxs)(x.Z,{flexDirection:"column",justifyContent:"space-evenly",children:[(0,o.jsx)(I.Z,{color:"textSubtle",fontSize:"12px",children:t.collectionName}),(0,o.jsx)(I.Z,{bold:!0,children:t.name}),(0,o.jsxs)(x.Z,{alignItems:"center",children:[(0,o.jsx)(I.Z,{fontSize:"12px",color:"textSubtle",p:"0px",height:"16px",mr:"4px",children:f("Token ID:")}),(0,o.jsx)(O.Z,{as:ce.Z,scale:"xs",px:"0px",pt:"2px",external:!0,variant:"text",href:(0,ue.xx)(t.collectionAddress,t.tokenId),children:t.tokenId})]})]})]}),(0,o.jsxs)(re,{children:[(0,o.jsx)(I.Z,{small:!0,color:"textSubtle",children:f("Pay with")}),(0,o.jsxs)(ae.Z,{activeIndex:n,onItemClick:function(e){return i(e)},scale:"sm",variant:"subtle",children:[(0,o.jsx)(se.Z,{children:"BNB"}),(0,o.jsx)(se.Z,{children:"WBNB"})]}),(0,o.jsx)(I.Z,{small:!0,color:"textSubtle",children:f("Total payment")}),(0,o.jsx)(ie,{bnbAmount:c}),(0,o.jsx)(I.Z,{small:!0,color:"textSubtle",children:f("%symbol% in wallet",{symbol:n===r.BNB?"KUB":"WKUB"})}),p?(0,o.jsx)(ie,{bnbAmount:a,isLoading:s!==fe.iF.Fetched,isInsufficient:s===fe.iF.Fetched&&l}):(0,o.jsx)(x.Z,{justifySelf:"flex-end",children:(0,o.jsx)(oe.Z,{scale:"sm"})})]}),s===fe.iF.Fetched&&l&&(0,o.jsx)(le.Z,{p:"8px",variant:"danger",children:(0,o.jsx)(I.Z,{children:f("Not enough %symbol% to purchase this NFT",{symbol:n===r.BNB?"KUB":"WKUB"})})}),(0,o.jsxs)(x.Z,{alignItems:"center",children:[(0,o.jsxs)(I.Z,{my:"16px",mr:"4px",children:[f("Convert between BNB and WBNB for free"),":"]}),(0,o.jsx)(O.Z,{as:ce.Z,p:"0px",height:"16px",external:!0,variant:"text",href:"/swap?inputCurrency=BNB&outputCurrency=0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c",children:f("Convert")})]})]}),(0,o.jsx)(de.iz,{}),(0,o.jsxs)(x.Z,{px:"24px",pb:"24px",flexDirection:"column",children:[(0,o.jsx)(O.Z,{onClick:u,disabled:s!==fe.iF.Fetched||l,mb:"8px",children:f("Checkout")}),(0,o.jsx)(O.Z,{as:ce.Z,external:!0,style:{width:"100%"},href:"/swap?outputCurrency=BNB",variant:"secondary",children:f("Get %symbol1% or %symbol2%",{symbol1:"KUB",symbol2:"WKUB"})})]})]})},pe=n(18017),he=n(95491),me=n(49903);function ve(e,t,n,r,i,o,c){try{var a=e[o](c),s=a.value}catch(l){return void n(l)}a.done?t(s):Promise.resolve(s).then(r,i)}function be(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function c(e){ve(o,r,i,c,a,"next",e)}function a(e){ve(o,r,i,c,a,"throw",e)}c(void 0)}))}}function je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ye=function(e){var t;return je(t={},i.REVIEW,e("Review")),je(t,i.APPROVE_AND_CONFIRM,e("Back")),je(t,i.CONFIRM,e("Back")),je(t,i.TX_CONFIRMED,e("Transaction Confirmed")),t},ge=function(e){var t=e.nftToBuy,n=e.onDismiss,c=(0,f.useState)(i.REVIEW),a=c[0],s=c[1],l=(0,f.useState)(""),x=l[0],p=l[1],h=(0,f.useState)(r.BNB),m=h[0],v=h[1],b=(0,f.useState)(!1),j=b[0],y=b[1],g=(0,M.Z)().theme,Z=(0,N.$G)().t,w=(0,G.d)().callWithGasPrice,S=(0,d.Ge)().account,P=(0,$.X_)(U.ZP.wbnb.address,!1),O=(0,$.X_)(U.ZP.wbnb.address),k=(0,$.DU)(),A=(0,V.Z)().toastSuccess,F=(0,_.vz)(t.marketData.currentAskPrice,"ether"),I=parseFloat(t.marketData.currentAskPrice),C=(0,z.nu)(),D=C.balance,E=C.fetchStatus,B=parseFloat((0,_.dF)(D)),L=(0,z.ZP)(U.ZP.wbnb.address),q=L.balance,X=L.fetchStatus,K=(0,T.mW)(q),Q=m===r.BNB?B:K,ee=m===r.BNB?E:X,te=m===r.BNB?D.lt(F):q.lt((0,W.i9)(F));(0,f.useEffect)((function(){D.lt(F)&&q.gte((0,W.i9)(F))&&!j&&(v(r.WBNB),y(!0))}),[D,q,F,j]);var re=(0,Y.Z)({onRequiresApproval:be(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,J.S)(P,S,k.address));case 1:case"end":return e.stop()}}),e)}))),onApprove:function(){return w(O,"approve",[k.address,R.Bz])},onApproveSuccess:function(){var e=be(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.receipt,A(Z("Contract approved - you can now buy NFT with WBNB!"),(0,o.jsx)(H.YO,{txHash:n.transactionHash}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onConfirm:function(){var e=Number.isNaN(I)?R._Y:(0,_.vz)(t.marketData.currentAskPrice);return m===r.BNB?w(k,"buyTokenUsingBNB",[t.collectionAddress,t.tokenId],{value:e}):w(k,"buyTokenUsingWBNB",[t.collectionAddress,t.tokenId,e])},onSuccess:function(){var e=be(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.receipt,p(n.transactionHash),s(i.TX_CONFIRMED),A(Z("Your NFT has been sent to your wallet"),(0,o.jsx)(H.YO,{txHash:n.transactionHash}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),ie=re.isApproving,oe=re.isApproved,ce=re.isConfirming,ae=re.handleApprove,se=re.handleConfirm,le=a===i.CONFIRM||a===i.APPROVE_AND_CONFIRM;return(0,o.jsxs)(ne,{title:ye(Z)[a],stage:a,onDismiss:n,onBack:le?function(){s(i.REVIEW)}:null,headerBackground:g.colors.gradients.cardHeader,children:[a===i.REVIEW&&(0,o.jsx)(xe,{nftToBuy:t,paymentCurrency:m,setPaymentCurrency:v,nftPrice:I,walletBalance:Q,walletFetchStatus:ee,notEnoughBnbForPurchase:te,continueToNextStage:function(){m!==r.WBNB||oe?s(i.CONFIRM):s(i.APPROVE_AND_CONFIRM)}}),a===i.APPROVE_AND_CONFIRM&&(0,o.jsx)(he.Z,{variant:"buy",handleApprove:ae,isApproved:oe,isApproving:ie,isConfirming:ce,handleConfirm:se}),a===i.CONFIRM&&(0,o.jsx)(pe.Z,{isConfirming:ce,handleConfirm:se}),a===i.TX_CONFIRMED&&(0,o.jsx)(me.Z,{txHash:x,onDismiss:n})]})},Ze=n(68461),we=n(14166);function Se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],c=!0,a=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);c=!0);}catch(s){a=!0,i=s}finally{try{c||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Se(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Oe=function(e){var t,n,r=e.cheapestNft,i=e.cheapestNftFromOtherSellers,c=e.nothingForSaleBunny,a=e.onSuccessSale,l=(0,N.$G)().t,u=(0,L.Hf)(),f=i||r||c,d=!i,p=i||r,h=(0,E.as)(u,parseFloat(null===(t=f.marketData)||void 0===t?void 0:t.currentAskPrice)),m=Pe((0,P.Z)((0,o.jsx)(ge,{nftToBuy:f})),1)[0],v=Pe((0,P.Z)((0,o.jsx)(Ze.Z,{variant:"edit",nftToSell:r,onSuccessSale:a})),1)[0],b=d?(0,o.jsx)(O.Z,{variant:"danger",minWidth:"168px",width:["100%",null,"max-content"],mt:"24px",onClick:v,children:l("Adjust Sale Price")}):(0,o.jsx)(O.Z,{disabled:d,minWidth:"168px",width:["100%",null,"max-content"],mt:"24px",onClick:m,children:l("Buy")});return(0,o.jsx)(k.Z,{mb:"40px",children:(0,o.jsx)(A.Z,{children:(0,o.jsxs)(we.W2,{flexDirection:["column-reverse",null,"row"],children:[(0,o.jsx)(x.Z,{flex:"2",children:(0,o.jsxs)(F.Z,{children:[(0,o.jsx)(we.Db,{to:"".concat(s.Vf,"/collections/").concat(f.collectionAddress),children:f.collectionName}),(0,o.jsx)(I.Z,{fontSize:"40px",bold:!0,mt:"12px",children:f.name}),(0,o.jsx)(I.Z,{mt:["16px","16px","48px"],children:l(f.description)}),(r||i)&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(I.Z,{color:"textSubtle",mt:["16px","16px","48px"],children:l("Lowest price")}),(0,o.jsxs)(x.Z,{alignItems:"center",mt:"8px",children:[(0,o.jsx)(C.Z,{width:18,height:18,mr:"4px"}),(0,o.jsx)(I.Z,{fontSize:"24px",bold:!0,mr:"4px",children:(0,T.uf)(parseFloat(null===(n=f.marketData)||void 0===n?void 0:n.currentAskPrice),0,5)}),u?(0,o.jsx)(I.Z,{color:"textSubtle",children:"(~".concat(h.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})," USD)")}):(0,o.jsx)(D.Z,{width:"64px"})]})]}),p&&b]})}),(0,o.jsx)(x.Z,{flex:"2",justifyContent:["center",null,"flex-end"],alignItems:"center",maxWidth:440,children:(0,o.jsx)(B.Z,{nft:f,width:440,height:440},f.name)})]})})})},ke=n(34103),Ae=n(90289),Fe=n(46392),Ie=n(86543),Ce=n(48650),De=n(75186),Ne=n(19782),Te=n(59667),Ee=n(96913);function Be(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Le(){var e=Be(["\n  from {\n    max-height: 0px;\n  }\n  to {\n    max-height: 720px;\n  }\n"]);return Le=function(){return e},e}function Re(){var e=Be(["\n  from {\n    max-height: 710px;\n  }\n  to {\n    max-height: 0px;\n  }\n"]);return Re=function(){return e},e}function Me(){var e=Be(["\n          "," 300ms linear forwards\n        "]);return Me=function(){return e},e}function ze(){var e=Be(["\n          "," 300ms linear forwards\n        "]);return ze=function(){return e},e}function We(){var e=Be(["\n  animation: ",";\n"]);return We=function(){return e},e}function Ue(){var e=Be(["\n  width: 100%;\n"]);return Ue=function(){return e},e}var _e=(0,q.F4)(Le()),$e=(0,q.F4)(Re()),Ge=(0,q.ZP)(F.Z)(We(),(function(e){return e.expanded?(0,q.iv)(Me(),_e):(0,q.iv)(ze(),$e)})),Ye=(0,q.ZP)(k.Z)(Ue()),Je=function(e){var t=e.icon,n=e.title,r=e.content,i=(0,f.useState)(!0),c=i[0],a=i[1],s=(0,M.Z)().theme;return(0,o.jsxs)(Ye,{children:[(0,o.jsxs)(K.Z,{gridTemplateColumns:"1fr 8fr 1fr",alignItems:"center",height:"72px",px:"24px",borderBottom:"1px solid ".concat(s.colors.cardBorder),children:[t,(0,o.jsx)(I.Z,{bold:!0,children:n}),(0,o.jsx)(Ne.Z,{onClick:function(){a((function(e){return!e}))},variant:"text",maxWidth:"32px",children:c?(0,o.jsx)(Te.Z,{width:"24px",height:"24px",color:"textSubtle"}):(0,o.jsx)(Ee.Z,{width:"24px",height:"24px",color:"textSubtle"})})]}),(0,o.jsx)(Ge,{expanded:c,children:r})]})},Ve=n(70739),He=n(10056);function qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],c=!0,a=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);c=!0);}catch(s){a=!0,i=s}finally{try{c||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qe(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function et(){var e=Qe(["\n  overflow-y: auto;\n  max-height: 224px;\n"]);return et=function(){return e},e}function tt(){var e=Qe(["\n  margin: 16px 20px;\n  border-bottom: ",";\n"]);return tt=function(){return e},e}var nt,rt,it=(0,q.ZP)(F.Z)(et()),ot=q.ZP.div(tt(),(function(e){var t=e.theme;return"1px solid ".concat(t.colors.cardBorder)})),ct=(Xe(nt={},De.Fb.FORSALE,"failure"),Xe(nt,De.Fb.WALLET,"secondary"),Xe(nt,De.Fb.PROFILE,"textSubtle"),nt),at=(Xe(rt={},De.Fb.FORSALE,ke.Z),Xe(rt,De.Fb.WALLET,Ae.Z),Xe(rt,De.Fb.PROFILE,Fe.Z),rt),st=function(e){var t=e.nft,n=e.lowestPrice,r=e.onSuccessSale,i=(0,N.$G)().t,c=t.location===De.Fb.WALLET?"sell":"edit",a=Ke((0,P.Z)((0,o.jsx)(Ve.Z,{nft:t})),1)[0],s=Ke((0,P.Z)((0,o.jsx)(Ze.Z,{variant:c,nftToSell:t,onSuccessSale:r})),1)[0];return(0,o.jsxs)(we.u$,{gridTemplateColumns:"96px 1fr",px:"16px",pb:"8px",my:"16px",onClick:t.location===De.Fb.PROFILE?a:s,children:[(0,o.jsx)(we.em,{src:t.image.thumbnail,width:64,height:64,mx:"16px"}),(0,o.jsxs)(K.Z,{gridTemplateColumns:"1fr 1fr",children:[(0,o.jsx)(I.Z,{bold:!0,children:t.name}),(0,o.jsx)(I.Z,{fontSize:"12px",color:"textSubtle",textAlign:"right",children:t.collectionName}),n&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(I.Z,{small:!0,color:"textSubtle",children:i("Lowest price")}),(0,o.jsxs)(x.Z,{justifySelf:"flex-end",width:"max-content",children:[(0,o.jsx)(C.Z,{width:"16px",height:"16px",mr:"4px"}),(0,o.jsx)(I.Z,{small:!0,children:(0,T.uf)(parseFloat(n),0,5)})]})]}),t.location===De.Fb.FORSALE?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(I.Z,{small:!0,color:"textSubtle",children:i("Your price")}),(0,o.jsxs)(x.Z,{justifySelf:"flex-end",width:"max-content",children:[(0,o.jsx)(C.Z,{width:"16px",height:"16px",mr:"4px"}),(0,o.jsx)(I.Z,{small:!0,children:t.marketData.currentAskPrice})]})]}):(0,o.jsx)(I.Z,{small:!0,color:"textDisabled",children:i("Not on sale")})]})]})},lt=function(e){var t=e.location,n=e.nfts,r=e.lowestPrice,i=e.onSuccessSale,c=(0,N.$G)().t,a=at[t];return(0,o.jsxs)(x.Z,{flexDirection:"column",children:[(0,o.jsxs)(K.Z,{gridTemplateColumns:"32px 1fr",px:"16px",pb:"8px",children:[(0,o.jsx)(a,{color:ct[t],width:"24px",height:"24px"}),(0,o.jsx)(I.Z,{display:"inline",bold:!0,color:ct[t],children:c(t)})]}),(0,o.jsx)(it,{children:n.map((function(e){return(0,o.jsx)(st,{nft:e,lowestPrice:r,onSuccessSale:i},e.tokenId)}))})]})},ut=function(e){var t=e.bunnyId,n=e.lowestPrice,r=(0,N.$G)().t,i=(0,d.Ge)().account,c=(0,Ce.Un)(),a=c.isLoading,s=c.profile,l=(0,He.Z)(i,s,a),u=l.nfts,f=l.isLoading,p=l.refresh,h=u.filter((function(e){return e.attributes[0].value===t&&e.location===De.Fb.WALLET})),m=u.filter((function(e){return e.attributes[0].value===t&&e.location===De.Fb.FORSALE})),v=u.filter((function(e){return e.attributes[0].value===t&&e.location===De.Fb.PROFILE})),b=!f&&0===h.length&&0===m.length&&0===v.length,j=h.length+m.length+v.length,y=i&&!b?" (".concat(j,")"):"",g=(0,o.jsxs)(F.Z,{pt:"16px",children:[!i&&(0,o.jsx)(x.Z,{mb:"16px",justifyContent:"center",children:(0,o.jsx)(oe.Z,{})}),b&&(0,o.jsx)(I.Z,{px:"16px",pb:"16px",color:"textSubtle",children:r("You don\u2019t have any of this item.")}),i&&f&&(0,o.jsxs)(F.Z,{px:"16px",pb:"8px",children:[(0,o.jsx)(D.Z,{mb:"8px"}),(0,o.jsx)(D.Z,{mb:"8px"}),(0,o.jsx)(D.Z,{mb:"8px"})]}),m.length>0&&(0,o.jsx)(lt,{location:De.Fb.FORSALE,nfts:m,lowestPrice:n,onSuccessSale:p}),h.length>0&&(0,o.jsxs)(o.Fragment,{children:[m.length>0&&(0,o.jsx)(ot,{}),(0,o.jsx)(lt,{location:De.Fb.WALLET,nfts:h,lowestPrice:n,onSuccessSale:p})]}),v.length>0&&(0,o.jsxs)(o.Fragment,{children:[(m.length>0||h.length>0)&&(0,o.jsx)(ot,{}),(0,o.jsx)(lt,{location:De.Fb.PROFILE,nfts:v,lowestPrice:n,onSuccessSale:p})]})]});return(0,o.jsx)(Je,{title:"".concat(r("Manage Yours")).concat(y),icon:(0,o.jsx)(Ie.Z,{width:"24px",height:"24px"}),content:g})},ft=n(59742),dt={bunnyId:"Bunny ID"},xt=function(e){var t,n=e.title,r=e.value,i=e.rarity;return(0,o.jsxs)(x.Z,{justifyContent:"space-between",alignItems:"center",children:[(0,o.jsx)(I.Z,{fontSize:"12px",color:"textSubtle",bold:!0,textTransform:"uppercase",children:null!==(t=dt[n])&&void 0!==t?t:n}),(0,o.jsxs)(x.Z,{alignItems:"center",children:[(0,o.jsx)(I.Z,{bold:!0,textTransform:"uppercase",mr:"4px",children:r}),i&&(0,o.jsxs)(I.Z,{small:!0,color:"textSubtle",children:["(",i.toFixed(2),"%)"]})]})]})},pt=function(e){var t=e.properties,n=e.rarity,r=(0,N.$G)().t,i=(0,o.jsx)(F.Z,{p:"24px",children:t.map((function(e){return(0,o.jsx)(xt,{title:e.traitType,value:e.value,rarity:n[e.traitType]},e.traitType)}))});return(0,o.jsx)(Je,{title:r("Properties"),icon:(0,o.jsx)(ft.Z,{width:"24px",height:"24px"}),content:i})},ht=n(91541),mt=n(90570),vt=n(64011);function bt(){var e,t,n=(e=["\n  max-width: 120px;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return bt=function(){return n},n}var jt=(0,q.ZP)(I.Z)(bt()),yt=function(e){var t=e.contractAddress,n=e.ipfsJson,r=e.count,i=e.rarity,c=(0,N.$G)().t,a=(0,vt.Z)().chainId,s=n?(0,mt.Z)(n)[0]:null,l=(0,o.jsxs)(F.Z,{p:"24px",children:[(0,o.jsxs)(x.Z,{justifyContent:"space-between",alignItems:"center",mb:"16px",children:[(0,o.jsx)(I.Z,{fontSize:"12px",color:"textSubtle",bold:!0,textTransform:"uppercase",children:c("Contract address")}),(0,o.jsx)(ce.Z,{external:!0,href:(0,ue.XR)(t,"address",a),children:(0,o.jsx)(jt,{bold:!0,children:t})})]}),s&&(0,o.jsxs)(x.Z,{justifyContent:"space-between",alignItems:"center",mb:"16px",children:[(0,o.jsx)(I.Z,{fontSize:"12px",color:"textSubtle",bold:!0,textTransform:"uppercase",children:"IPFS JSON"}),(0,o.jsx)(ce.Z,{external:!0,href:s,children:(0,o.jsx)(jt,{bold:!0,children:s})})]}),r&&(0,o.jsxs)(x.Z,{justifyContent:"space-between",alignItems:"center",mb:"16px",mr:"4px",children:[(0,o.jsx)(I.Z,{fontSize:"12px",color:"textSubtle",bold:!0,textTransform:"uppercase",children:c("Supply Count")}),(0,o.jsx)(jt,{bold:!0,children:(0,T.uf)(r,0,0)})]}),i&&(0,o.jsxs)(x.Z,{justifyContent:"space-between",alignItems:"center",mr:"4px",children:[(0,o.jsx)(I.Z,{fontSize:"12px",color:"textSubtle",bold:!0,textTransform:"uppercase",children:c("Rarity")}),(0,o.jsx)(jt,{bold:!0,children:"".concat((0,T.uf)(i,0,2),"%")})]})]});return(0,o.jsx)(Je,{title:c("Details"),icon:(0,o.jsx)(ht.Z,{width:"24px",height:"24px"}),content:l})},gt=n(69983),Zt=n.n(gt),wt=n(98352),St=(n(72821),n(51888)),Pt=n(58018),Ot=n(7098),kt=n(38263),At=n(9640),Ft=n(96464),It=n(43591),Ct=n(98695);function Dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nt(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Tt(e){return function(e){if(Array.isArray(e))return Dt(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Dt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Et(){var e=Nt(["\n  background-color: ",";\n  width: 12px;\n  height: 12px;\n  margin-right: 8px;\n  border-radius: 50%;\n  cursor: pointer;\n"]);return Et=function(){return e},e}function Bt(){var e=Nt(["\n  "," {\n    .swiper-wrapper {\n      max-height: 390px;\n    }\n  }\n"]);return Bt=function(){return e},e}var Lt=q.ZP.div(Et(),(function(e){var t=e.theme;return e.isActive?t.colors.secondary:t.colors.textDisabled})),Rt=q.ZP.div(Bt(),(function(e){return e.theme.mediaQueries.md})),Mt=function(e){var t=e.collectionAddress,n=e.currentTokenName,r=void 0===n?"":n,i=e.title,c=void 0===i?(0,o.jsx)(Ft.Z,{children:"More from this collection"}):i,a=(0,At.TL)(),l=(0,f.useState)(null),u=l[0],d=l[1],p=(0,f.useState)(1),h=p[0],m=p[1],b=(0,St.Z)(),j=b.isMobile,y=b.isMd,g=b.isLg,Z=(0,Ct.Z)(t),w=(0,v.aA)(t),S=(0,ue.UJ)(t)===s.Jr;(0,f.useEffect)((function(){S||w||a((0,kt.o)({collectionAddress:(0,ue.UJ)(t)||t,page:1,size:100}))}),[w,t,a,S]);var P=(0,f.useMemo)((function(){return Zt()(Z?Z.filter((function(e){return e.name!==r})):null===w||void 0===w?void 0:w.filter((function(e){var t;return e.name!==r&&(null===(t=e.marketData)||void 0===t?void 0:t.isTradable)})))}),[Z,w,r]);if(!P||0===P.length)return null;var O=4,k=3;y&&(O=2,k=6),g&&(O=3,k=4),S&&(P=P.reduce((function(e,t){var n=t.attributes[0].value;return e.find((function(e){return e.attributes[0].value===n}))||e.push(t),e}),[])),P=P.slice(0,12);return(0,o.jsxs)(F.Z,{pt:"56px",mb:"52px",children:[c&&(0,o.jsx)(I.Z,{bold:!0,mb:"24px",children:c}),j?(0,o.jsx)(Rt,{children:(0,o.jsx)(wt.tq,{spaceBetween:16,slidesPerView:1.5,children:P.map((function(e){return(0,o.jsx)(wt.o5,{children:(0,o.jsx)(It.ts,{nft:e})},e.tokenId)}))})}):(0,o.jsxs)(Rt,{children:[(0,o.jsx)(wt.tq,{onSwiper:d,onActiveIndexChange:function(e){var t=e.activeIndex;void 0!==t&&m(Math.ceil(t/O))},spaceBetween:16,slidesPerView:O,slidesPerGroup:O,initialSlide:4,children:P.map((function(e){var t;return(0,o.jsx)(wt.o5,{children:(0,o.jsx)(It.ts,{nft:e,currentAskPrice:S?null:parseFloat(null===(t=e.marketData)||void 0===t?void 0:t.currentAskPrice)})},e.tokenId)}))}),(0,o.jsxs)(x.Z,{mt:"16px",alignItems:"center",justifyContent:"center",children:[(0,o.jsx)(Ne.Z,{variant:"text",onClick:function(){h>0&&(m((function(e){return e-1})),u.slidePrev())},children:(0,o.jsx)(Pt.Z,{})}),Tt(Array(k).keys()).map((function(e){return(0,o.jsx)(Lt,{onClick:function(){return function(e){m(e/O),u.slideTo(e)}(e*O)},isActive:h===e},e)})),(0,o.jsx)(Ne.Z,{variant:"text",onClick:function(){h<k-1&&(m((function(e){return e+1})),u.slideNext())},children:(0,o.jsx)(Ot.Z,{})})]})]})]})},zt=n(68112),Wt=n(43810),Ut=n(59946),_t=n(80474);function $t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],c=!0,a=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);c=!0);}catch(s){a=!0,i=s}finally{try{c||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return $t(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $t(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yt(){var e,t,n=(e=["\n  grid-template-columns: 2fr 2fr 1fr;\n  grid-row-gap: 16px;\n  margin-top: 16px;\n  & > div {\n    padding-bottom: 16px;\n    border-bottom: ",";\n  }\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return Yt=function(){return n},n}var Jt=(0,q.ZP)(K.Z)(Yt(),(function(e){var t=e.theme;return"1px solid ".concat(t.colors.cardBorder)})),Vt=function(e){var t=e.t,n=e.nft,r=e.bnbBusdPrice,i=e.account,c=e.onSuccessSale,a=(0,E.as)(r,parseFloat(n.marketData.currentAskPrice)),s=!!i&&n.marketData.currentSeller===i.toLowerCase(),l=Gt((0,P.Z)((0,o.jsx)(ge,{nftToBuy:n})),1)[0],u=Gt((0,P.Z)((0,o.jsx)(Ze.Z,{variant:"edit",nftToSell:n,onSuccessSale:c})),1)[0];return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(F.Z,{pl:"24px",children:[(0,o.jsxs)(x.Z,{justifySelf:"flex-start",alignItems:"center",width:"max-content",children:[(0,o.jsx)(C.Z,{width:"24px",height:"24px",mr:"8px"}),(0,o.jsx)(I.Z,{bold:!0,children:(0,T.uf)(parseFloat(n.marketData.currentAskPrice),0,5)})]}),r?(0,o.jsx)(I.Z,{fontSize:"12px",color:"textSubtle",children:"(~".concat((0,T.uf)(a,2,2)," USD)")}):(0,o.jsx)(D.Z,{width:"86px",height:"12px",mt:"4px"})]}),(0,o.jsx)(F.Z,{children:(0,o.jsx)(x.Z,{width:"max-content",alignItems:"center",children:(0,o.jsx)(_t.Z,{accountAddress:n.marketData.currentSeller})})}),(0,o.jsx)(we.qO,{children:s?(0,o.jsx)(O.Z,{scale:"sm",variant:"danger",maxWidth:"128px",onClick:u,children:t("Edit")}):(0,o.jsx)(O.Z,{scale:"sm",variant:"secondary",maxWidth:"128px",onClick:l,children:t("Buy")})})]})},Ht=function(e){var t=e.nftsForSale,n=e.onSuccessSale,r=(0,d.Ge)().account,i=(0,N.$G)().t,c=(0,L.Hf)();return(0,o.jsx)(Jt,{children:t.map((function(e){return(0,o.jsx)(Vt,{t:i,nft:e,bnbBusdPrice:c,account:r,onSuccessSale:n},e.tokenId)}))})},qt=n(75669);function Xt(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Kt(){var e=Xt(["\n  from {\n    stroke-dashoffset: 0px;\n  }\n  to {\n    stroke-dashoffset: 113px;\n  }\n"]);return Kt=function(){return e},e}function Qt(){var e=Xt(["\n  position: relative;\n  margin: auto;\n  height: 40px;\n  width: 40px;\n  text-align: center;\n\n  & svg {\n    position: absolute;\n    top: 0;\n    right: 0;\n    width: 40px;\n    height: 40px;\n    transform: rotateY(-180deg) rotateZ(-90deg);\n\n    & circle {\n      stroke-dasharray: 113px;\n      stroke-dashoffset: 0px;\n      stroke-linecap: round;\n      stroke-width: 2px;\n      stroke: ",";\n      fill: none;\n      animation: "," 10s linear infinite forwards;\n    }\n  }\n"]);return Qt=function(){return e},e}var en=(0,q.F4)(Kt()),tn=q.ZP.div(Qt(),(function(e){return e.theme.colors.primaryBright}),en),nn=function(e){var t=e.secondsRemaining,n=e.isUpdating;return t<1||n?(0,o.jsx)(zt.Z,{size:42}):(0,o.jsxs)(tn,{children:[(0,o.jsx)(I.Z,{color:"textSubtle",lineHeight:"40px",display:"inline-block",children:t}),(0,o.jsx)("svg",{children:(0,o.jsx)("circle",{r:"18",cx:"20",cy:"20"})})]})},rn=function(){var e=(0,N.$G)().t,t=(0,f.useState)(10),n=t[0],r=t[1],i=(0,v.$C)().isUpdatingPancakeBunnies,c=(0,qt.Z)(e("Items in the table update every 10 seconds"),{placement:"auto"}),a=c.tooltip,s=c.tooltipVisible,l=c.targetRef;return(0,f.useEffect)((function(){var e=setInterval((function(){r((function(e){return e-1}))}),1e3);return function(){clearInterval(e)}}),[]),(0,f.useEffect)((function(){i||r(10)}),[i]),(0,o.jsxs)(x.Z,{justifyContent:"center",ref:l,children:[(0,o.jsx)(nn,{secondsRemaining:n,isUpdating:i}),s&&a]})},on=n(72818);function cn(){var e,t,n=(e=["\n  width: 100%;\n  & > div:first-child {\n    ","\n    display: flex;\n    flex-direction: column;\n    "," {\n      ","\n    }\n  }\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return cn=function(){return n},n}var an=(0,q.ZP)(k.Z)(cn(),(function(e){return e.hasManyPages?"min-height: 480px;":null}),(function(e){return e.theme.mediaQueries.md}),(function(e){return e.hasManyPages?"min-height: 850px;":null})),sn=function(e){var t=e.nftsForSale,n=e.bunnyId,r=e.totalForSale,i=e.loadMore,c=e.isFetchingMoreNfts,a=e.priceSort,s=e.togglePriceSort,l=e.onSuccessSale,u=(0,f.useState)(1),d=u[0],p=u[1],h=(0,St.Z)().isMobile?5:10,m=(0,N.$G)().t,v=(0,M.Z)().theme;(0,f.useEffect)((function(){p(1)}),[n,a]);var b=t.length%h!==0,j=Math.floor(t.length/h);b&&(j+=1);var y=t.slice((d-1)*h,d*h),g=function(e){p(e)},Z=c?(0,o.jsx)(x.Z,{width:"96px",justifyContent:"center",children:(0,o.jsx)(zt.Z,{size:32})}):(0,o.jsx)(O.Z,{variant:"primary",scale:"xs",ml:"12px",onClick:function(){i(a)},children:m("Load more")});return(0,o.jsxs)(an,{hasManyPages:j>1,children:[(0,o.jsxs)(K.Z,{flex:"0 1 auto",gridTemplateColumns:"34px 1fr 48px",alignItems:"center",height:"72px",px:"24px",borderBottom:"1px solid ".concat(v.colors.cardBorder),children:[(0,o.jsx)(ke.Z,{width:"24px",height:"24px"}),(0,o.jsx)(I.Z,{bold:!0,children:m("For Sale (%num%)",{num:r.toLocaleString()})}),(0,o.jsx)(rn,{})]}),y.length>0?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(we.cq,{flex:"0 1 auto",gridTemplateColumns:"2fr 2fr 1fr",py:"12px",children:[(0,o.jsx)(we.IB,{type:"button",onClick:s,children:(0,o.jsxs)(x.Z,{alignItems:"center",children:[(0,o.jsx)(I.Z,{textTransform:"uppercase",color:"textSubtle",bold:!0,fontSize:"12px",px:"24px",children:m("Price")}),"asc"===a?(0,o.jsx)(Wt.Z,{color:"textSubtle"}):(0,o.jsx)(Ut.Z,{color:"textSubtle"})]})}),(0,o.jsx)(I.Z,{textTransform:"uppercase",color:"textSubtle",bold:!0,fontSize:"12px",children:m("Owner")})]}),(0,o.jsxs)(x.Z,{flex:"1 1 auto",flexDirection:"column",justifyContent:"space-between",height:"100%",children:[(0,o.jsx)(Ht,{nftsForSale:y,onSuccessSale:l}),(0,o.jsxs)(on.O,{children:[(0,o.jsx)(on.E,{onClick:function(){g(1===d?d:d-1)},children:(0,o.jsx)(Pt.Z,{color:1===d?"textDisabled":"primary"})}),(0,o.jsx)(I.Z,{children:m("Page %page% of %maxPage%",{page:d,maxPage:j})}),d===j?Z:(0,o.jsx)(on.E,{onClick:function(){g(d===j?d:d+1)},children:(0,o.jsx)(Ot.Z,{color:d===j?"textDisabled":"primary"})})]})]})]}):(0,o.jsx)(x.Z,{justifyContent:"center",alignItems:"center",height:"200px",children:(0,o.jsx)(I.Z,{children:m("No items for sale")})})]})};function ln(e,t,n,r,i,o,c){try{var a=e[o](c),s=a.value}catch(l){return void n(l)}a.done?t(s):Promise.resolve(s).then(r,i)}function un(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fn=function(e){var t,n,r=e.bunnyId,i=(0,d.Ge)().account,c=(0,v.YD)(s.Jr),l=Number(c.totalSupply),p=(0,f.useState)(null),P=p[0],O=p[1],k=(0,j.Z)(),A=k.lastUpdated,F=k.previousLastUpdated,I=k.setLastUpdated,C=(0,v.Uc)(r),D=(0,f.useState)("asc"),N=D[0],T=D[1],E=(0,y.Z)(N),B=(0,v.Cp)(r),L=B.isUpdatingPancakeBunnies,R=B.latestPancakeBunniesUpdateAt,M=B.fetchMorePancakeBunnies,z=(0,Z.Z)(),W=h()(C,(function(e){return parseFloat(e.marketData.currentAskPrice)})),U=i?W.filter((function(e){return e.marketData.currentSeller!==i.toLowerCase()})):W,_=W[0],$=U[0],G=(0,y.Z)(r),Y=(0,S.q)(),J=Y.data,V=Y.isFetching;(0,g.a)((function(){var e=Date.now()-R;(G!==r||A!==F||e>w.qK&&!L&&z)&&M(N)}),[r,G,N,M,L,R,z,A,F]),(0,f.useEffect)((function(){E&&E!==N&&M(N)}),[M,N,E]),(0,f.useEffect)((function(){var e=function(){var e,t=(e=u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,b.Rq)(s.Jr);case 2:t=e.sent.data,O({tokenId:t[r].name,name:t[r].name,description:t[r].description,collectionName:t[r].collection.name,collectionAddress:s.Jr,image:t[r].image,attributes:[{traitType:"bunnyId",value:r,displayType:null}]});case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function c(e){ln(o,r,i,c,a,"next",e)}function a(e){ln(o,r,i,c,a,"throw",e)}c(void 0)}))});return function(){return t.apply(this,arguments)}}();_||e()}),[_,r]);var H=(0,f.useMemo)((function(){return h()(C,(function(e){var t;return Number(null===(t=e.marketData)||void 0===t?void 0:t.currentAskPrice)||0}),N)}),[C,N]);if(!_&&!P)return(0,o.jsx)(a.Z,{});var q=(null===_||void 0===_?void 0:_.attributes)||(null===P||void 0===P?void 0:P.attributes),X={bunnyId:J&&!V?J[r].tokenCount/l*100:null};return(0,o.jsxs)(m.Z,{children:[(0,o.jsx)(Oe,{cheapestNft:_,cheapestNftFromOtherSellers:$,nothingForSaleBunny:P,onSuccessSale:I}),(0,o.jsxs)(we.Tk,{flexDirection:["column","column","row"],children:[(0,o.jsxs)(x.Z,{flexDirection:"column",width:"100%",children:[(0,o.jsx)(ut,{bunnyId:r,lowestPrice:null===_||void 0===_||null===(t=_.marketData)||void 0===t?void 0:t.currentAskPrice}),(0,o.jsx)(pt,{properties:q,rarity:X}),(0,o.jsx)(yt,{contractAddress:s.Jr,ipfsJson:null===_||void 0===_||null===(n=_.marketData)||void 0===n?void 0:n.metadataUrl,rarity:null===X||void 0===X?void 0:X.bunnyId,count:J&&!V?J[r].tokenCount:null})]}),(0,o.jsx)(sn,{nftsForSale:H,bunnyId:r,totalForSale:C.length,loadMore:M,priceSort:N,togglePriceSort:function(){T((function(e){return"asc"===e?"desc":"asc"}))},isFetchingMoreNfts:L,onSuccessSale:I})]}),(0,o.jsx)(Mt,{collectionAddress:s.Jr,currentTokenName:(null===_||void 0===_?void 0:_.name)||(null===P||void 0===P?void 0:P.name)})]})},dn=function(e){return(0,v.YD)(s.Jr)?(0,o.jsx)(fn,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){un(e,t,n[t])}))}return e}({},e)):(0,o.jsx)(a.Z,{})},xn=n(12297),pn=n.n(xn),hn=n(38689);function mn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],c=!0,a=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);c=!0);}catch(s){a=!0,i=s}finally{try{c||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return mn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var bn,jn=function(e){var t,n,r,i,c,a=e.nft,l=e.isOwnNft,u=e.nftIsProfilePic,f=e.onSuccess,d=(0,N.$G)().t,p=(0,L.Hf)(),h=(null===(t=a.marketData)||void 0===t?void 0:t.currentAskPrice)?parseFloat(a.marketData.currentAskPrice):0,m=(0,E.as)(p,h),v=vn((0,P.Z)((0,o.jsx)(ge,{nftToBuy:a})),1)[0],b=vn((0,P.Z)((0,o.jsx)(Ze.Z,{variant:(null===(n=a.marketData)||void 0===n?void 0:n.isTradable)?"edit":"sell",nftToSell:a,onSuccessSale:f})),1)[0],j=vn((0,P.Z)((0,o.jsx)(hn.Z,{}),!1),1)[0],y=(0,o.jsxs)(x.Z,{flexDirection:["column","column","row"],children:[(0,o.jsx)(O.Z,{disabled:u,minWidth:"168px",mr:"16px",width:["100%",null,"max-content"],mt:"24px",onClick:b,children:(null===(r=a.marketData)||void 0===r?void 0:r.isTradable)?d("Adjust price"):d("List for sale")}),!(null===(i=a.marketData)||void 0===i?void 0:i.isTradable)&&(0,o.jsx)(O.Z,{minWidth:"168px",variant:"secondary",width:["100%",null,"max-content"],mt:"24px",onClick:j,children:d(u?"Change Profile Pic":"Set as Profile Pic")})]});return(0,o.jsx)(k.Z,{mb:"40px",children:(0,o.jsx)(A.Z,{children:(0,o.jsxs)(we.W2,{flexDirection:["column-reverse",null,"row"],children:[(0,o.jsx)(x.Z,{flex:"2",children:(0,o.jsxs)(F.Z,{children:[(0,o.jsx)(we.Db,{to:"".concat(s.Vf,"/collections/").concat(a.collectionAddress),children:a.collectionName}),(0,o.jsx)(I.Z,{fontSize:"40px",bold:!0,mt:"12px",children:a.name}),a.description&&(0,o.jsx)(I.Z,{mt:["16px","16px","48px"],children:d(a.description)}),(0,o.jsx)(I.Z,{color:"textSubtle",mt:["16px","16px","48px"],children:d("Price")}),h>0?(0,o.jsxs)(x.Z,{alignItems:"center",mt:"8px",children:[(0,o.jsx)(C.Z,{width:18,height:18,mr:"4px"}),(0,o.jsx)(I.Z,{fontSize:"24px",bold:!0,mr:"4px",children:(0,T.uf)(h,0,5)}),p?(0,o.jsx)(I.Z,{color:"textSubtle",children:"(~".concat(m.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})," USD)")}):(0,o.jsx)(D.Z,{width:"64px"})]}):(0,o.jsx)(I.Z,{children:d("Not for sale")}),u&&(0,o.jsx)(I.Z,{color:"failure",children:d("This NFT is your profile picture, you must change it to some other NFT if you want to sell this one.")}),l&&y,!l&&(0,o.jsx)(O.Z,{minWidth:"168px",disabled:!(null===(c=a.marketData)||void 0===c?void 0:c.isTradable),mr:"16px",width:["100%",null,"max-content"],mt:"24px",onClick:v,children:d("Buy")})]})}),(0,o.jsx)(x.Z,{flex:"2",justifyContent:["center",null,"flex-end"],alignItems:"center",maxWidth:440,children:(0,o.jsx)(B.Z,{nft:a,width:440,height:440},a.tokenId)})]})})})};function yn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],c=!0,a=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);c=!0);}catch(s){a=!0,i=s}finally{try{c||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return yn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var wn,Sn=(gn(bn={},De.Fb.FORSALE,"failure"),gn(bn,De.Fb.WALLET,"secondary"),gn(bn,De.Fb.PROFILE,"textSubtle"),bn),Pn=(gn(wn={},De.Fb.FORSALE,ke.Z),gn(wn,De.Fb.WALLET,Ae.Z),gn(wn,De.Fb.PROFILE,Fe.Z),wn),On=function(e){var t=e.nft,n=e.onSuccess,r=(0,N.$G)().t,i=t.location===De.Fb.WALLET?"sell":"edit",c=Zn((0,P.Z)((0,o.jsx)(Ve.Z,{nft:t})),1)[0],a=Zn((0,P.Z)((0,o.jsx)(Ze.Z,{variant:i,nftToSell:t,onSuccessSale:n})),1)[0];return(0,o.jsxs)(we.u$,{gridTemplateColumns:"96px 1fr",px:"16px",pb:"8px",my:"16px",onClick:t.location===De.Fb.PROFILE?c:a,children:[(0,o.jsx)(we.em,{src:t.image.thumbnail,width:64,height:64,mx:"16px"}),(0,o.jsxs)(K.Z,{gridTemplateColumns:"1fr 1fr",children:[(0,o.jsx)(I.Z,{bold:!0,children:t.name}),(0,o.jsx)(I.Z,{fontSize:"12px",color:"textSubtle",textAlign:"right",children:t.collectionName}),t.location===De.Fb.FORSALE?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(I.Z,{small:!0,color:"textSubtle",children:r("Your price")}),(0,o.jsxs)(x.Z,{justifySelf:"flex-end",width:"max-content",children:[(0,o.jsx)(C.Z,{width:"16px",height:"16px",mr:"4px"}),(0,o.jsx)(I.Z,{small:!0,children:t.marketData.currentAskPrice})]})]}):(0,o.jsx)(I.Z,{small:!0,color:"textDisabled",children:r("Not on sale")})]})]})},kn=function(e){var t=e.nft,n=e.onSuccess,r=(0,N.$G)().t,i=Pn[t.location];return(0,o.jsxs)(x.Z,{flexDirection:"column",children:[(0,o.jsxs)(K.Z,{gridTemplateColumns:"32px 1fr",px:"16px",pb:"8px",children:[(0,o.jsx)(i,{color:Sn[t.location],width:"24px",height:"24px"}),(0,o.jsx)(I.Z,{display:"inline",bold:!0,color:Sn[t.location],children:r(t.location)})]}),(0,o.jsx)(On,{nft:t,onSuccess:n},t.tokenId)]})},An=function(e){var t=e.nft,n=e.isLoading,r=e.isOwnNft,i=e.onSuccess,c=(0,N.$G)().t,a=(0,d.Ge)().account,s=r&&t,l=(0,o.jsxs)(F.Z,{pt:"16px",children:[!a&&(0,o.jsx)(x.Z,{mb:"16px",justifyContent:"center",children:(0,o.jsx)(oe.Z,{})}),a&&n&&(0,o.jsxs)(F.Z,{px:"16px",pb:"8px",children:[(0,o.jsx)(D.Z,{mb:"8px"}),(0,o.jsx)(D.Z,{mb:"8px"}),(0,o.jsx)(D.Z,{mb:"8px"})]}),a&&!n&&!s&&(0,o.jsx)(I.Z,{px:"16px",pb:"16px",color:"textSubtle",children:c("You don\u2019t have this item.")}),!n&&s&&(0,o.jsx)(kn,{nft:t,onSuccess:i})]});return(0,o.jsx)(Je,{title:c("Manage Yours"),icon:(0,o.jsx)(Ie.Z,{width:"24px",height:"24px"}),content:l})},Fn=n(55878);function In(e,t,n,r,i,o,c){try{var a=e[o](c),s=a.value}catch(l){return void n(l)}a.done?t(s):Promise.resolve(s).then(r,i)}function Cn(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function c(e){In(o,r,i,c,a,"next",e)}function a(e){In(o,r,i,c,a,"throw",e)}c(void 0)}))}}var Dn="0x0000000000000000000000000000000000000000",Nn=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=(0,d.Ge)().account,i=(0,f.useState)(null),o=i[0],c=i[1],a=(0,f.useState)(!0),s=a[0],l=a[1],x=(0,$.HQ)(e.collectionAddress),p=x.reader,h=null===(t=e.marketData)||void 0===t?void 0:t.currentSeller,m=(0,Fn.Re)(),v=e.tokenId;return(0,f.useEffect)((function(){var e=function(){var e=Cn(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!n||!r){e.next=5;break}c(r),e.next=9;break;case 5:return e.next=7,p.ownerOf(v);case 7:(t=e.sent).toLowerCase()!==m.toLowerCase()?c(t):c(null);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),c(null);case 14:return e.prev=14,l(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,11,14,17]])})));return function(){return e.apply(this,arguments)}}();h&&h!==Dn?(c(h),l(!1)):e()}),[r,n,h,p,v,m]),{owner:o,isLoadingOwner:s}};function Tn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function En(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],c=!0,a=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);c=!0);}catch(s){a=!0,i=s}finally{try{c||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Tn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bn(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Ln(){var e=Bn(["\n  width: 100%;\n  & > div:first-child {\n    display: flex;\n    flex-direction: column;\n  }\n"]);return Ln=function(){return e},e}function Rn(){var e=Bn(["\n  grid-template-columns: 2fr 2fr 1fr;\n  grid-row-gap: 16px;\n  margin-top: 16px;\n  margin-bottom: 8px;\n  align-items: center;\n"]);return Rn=function(){return e},e}var Mn=(0,q.ZP)(k.Z)(Ln()),zn=(0,q.ZP)(K.Z)(Rn()),Wn=function(e){var t,n,r,i,c,a=e.nft,s=e.isOwnNft,l=e.nftIsProfilePic,u=e.onSuccess,f=(0,N.$G)().t,d=(0,M.Z)().theme,p=(0,L.Hf)(),h=Nn(a,s),m=h.owner,v=h.isLoadingOwner,b=(0,E.as)(p,parseFloat(null===(t=a.marketData)||void 0===t?void 0:t.currentAskPrice)),j=En((0,P.Z)((0,o.jsx)(ge,{nftToBuy:a})),1)[0],y=En((0,P.Z)((0,o.jsx)(Ze.Z,{variant:(null===(n=a.marketData)||void 0===n?void 0:n.isTradable)?"edit":"sell",nftToSell:a,onSuccessSale:u})),1)[0];return(0,o.jsxs)(Mn,{children:[(0,o.jsxs)(K.Z,{flex:"0 1 auto",gridTemplateColumns:"34px 1fr",alignItems:"center",height:"72px",px:"24px",borderBottom:"1px solid ".concat(d.colors.cardBorder),children:[(0,o.jsx)(ke.Z,{width:"24px",height:"24px"}),(0,o.jsx)(I.Z,{bold:!0,children:f("Owner")})]}),m&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(we.cq,{flex:"0 1 auto",gridTemplateColumns:"2fr 2fr 1fr",py:"12px",children:[(0,o.jsx)(x.Z,{alignItems:"center",children:(0,o.jsx)(I.Z,{textTransform:"uppercase",color:"textSubtle",bold:!0,fontSize:"12px",px:"24px",children:f("Price")})}),(0,o.jsx)(I.Z,{textTransform:"uppercase",color:"textSubtle",bold:!0,fontSize:"12px",children:f("Owner")})]}),(0,o.jsxs)(zn,{children:[(0,o.jsx)(F.Z,{pl:"24px",children:(null===(r=a.marketData)||void 0===r?void 0:r.isTradable)?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(x.Z,{justifySelf:"flex-start",alignItems:"center",width:"max-content",children:[(0,o.jsx)(C.Z,{width:"24px",height:"24px",mr:"8px"}),(0,o.jsx)(I.Z,{bold:!0,children:(0,T.uf)(parseFloat(a.marketData.currentAskPrice),0,5)})]}),p?(0,o.jsx)(I.Z,{fontSize:"12px",color:"textSubtle",children:"(~".concat((0,T.uf)(b,2,2)," USD)")}):(0,o.jsx)(D.Z,{width:"86px",height:"12px",mt:"4px"})]}):(0,o.jsx)(x.Z,{alignItems:"center",height:"100%",children:(0,o.jsx)(I.Z,{children:f("Not for sale")})})}),(0,o.jsx)(F.Z,{children:(0,o.jsx)(x.Z,{width:"max-content",alignItems:"center",children:(0,o.jsx)(_t.Z,{accountAddress:m.toLowerCase()})})}),(0,o.jsx)(we.qO,{children:s?(0,o.jsx)(O.Z,{disabled:l,scale:"sm",variant:"secondary",maxWidth:"128px",onClick:y,children:(null===(i=a.marketData)||void 0===i?void 0:i.isTradable)?f("Manage"):f("Sell")}):(0,o.jsx)(O.Z,{disabled:!(null===(c=a.marketData)||void 0===c?void 0:c.isTradable),scale:"sm",variant:"secondary",maxWidth:"128px",onClick:j,children:f("Buy")})})]})]}),v&&(0,o.jsx)(D.Z,{}),!v&&!m&&(0,o.jsx)(x.Z,{justifyContent:"center",alignItems:"center",padding:"24px",children:(0,o.jsx)(I.Z,{children:f("Owner information is not available for this item")})})]})},Un=n(54755),_n=n(89056),$n=n(7402),Gn=n(26710),Yn=n(11527),Jn=n(72855);function Vn(e,t,n,r,i,o,c){try{var a=e[o](c),s=a.value}catch(l){return void n(l)}a.done?t(s):Promise.resolve(s).then(r,i)}var Hn=function(e){var t=e.nft,n=(0,At.TL)(),r=(0,M.Z)().theme,i=(0,N.$G)().t,c=(0,f.useState)(1),a=c[0],s=c[1],l=(0,f.useState)(1),d=l[0],p=l[1],h=(0,f.useState)([]),m=h[0],v=h[1],j=(0,f.useState)([]),y=j[0],g=j[1],Z=(0,f.useState)(!0),w=Z[0],S=Z[1],P=(0,L.Hf)(),O=(0,St.Z)(),A=O.isXs,F=O.isSm;return(0,f.useEffect)((function(){var e=function(){var e,n=(e=u().mark((function e(){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,b.AC)(t.tokenId,t.collectionAddress.toLowerCase());case 3:n=e.sent,g((0,Yn.f)(n)),S(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Failed to fetch address activity",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function c(e){Vn(o,r,i,c,a,"next",e)}function a(e){Vn(o,r,i,c,a,"throw",e)}c(void 0)}))});return function(){return n.apply(this,arguments)}}();e()}),[t,n]),(0,f.useEffect)((function(){return y.length>0&&function(){var e=Math.ceil(y.length/5);p(e)}(),function(){v([]),p(1),s(1)}}),[y]),(0,f.useEffect)((function(){y.length>0&&function(){var e=y.slice(5*(a-1),5*a);v(e)}()}),[y,a]),(0,o.jsx)(k.Z,{children:0!==y.length||0!==m.length||w?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(Un.Z,{children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsxs)(_n.Th,{textAlign:"center",children:[" ",i("Event")]}),A||F?null:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(_n.Th,{textAlign:"right",children:[" ",i("Price")]}),(0,o.jsxs)(_n.Th,{textAlign:"center",children:[" ",i("From")]}),(0,o.jsxs)(_n.Th,{textAlign:"center",children:[" ",i("To")]})]}),(0,o.jsxs)(_n.Th,{textAlign:"center",children:[" ",i("Date")]}),A||F?null:(0,o.jsx)(_n.Th,{})]})}),(0,o.jsx)("tbody",{children:w?(0,o.jsx)(Gn.Z,{}):m.map((function(e){return(0,o.jsx)(Jn.Z,{activity:e,nft:t,bnbBusdPrice:P,isNftActivity:!0},"".concat(e.nft.tokenId).concat(e.timestamp))}))})]}),(0,o.jsx)(x.Z,{borderTop:"1px ".concat(r.colors.cardBorder," solid"),pt:"24px",flexDirection:"column",justifyContent:"space-between",height:"100%",children:(0,o.jsxs)(on.O,{children:[(0,o.jsx)(on.E,{onClick:function(){s(1===a?a:a-1)},children:(0,o.jsx)(Pt.Z,{color:1===a?"textDisabled":"primary"})}),(0,o.jsx)(I.Z,{children:i("Page %page% of %maxPage%",{page:a,maxPage:d})}),(0,o.jsx)(on.E,{onClick:function(){s(a===d?a:a+1)},children:(0,o.jsx)(Ot.Z,{color:a===d?"textDisabled":"primary"})})]})})]}):(0,o.jsxs)(x.Z,{p:"24px",flexDirection:"column",alignItems:"center",children:[(0,o.jsx)($n.Z,{}),(0,o.jsx)(I.Z,{pt:"8px",bold:!0,children:i("No NFT market history found")})]})})},qn=n(40821);function Xn(e,t,n,r,i,o,c){try{var a=e[o](c),s=a.value}catch(l){return void n(l)}a.done?t(s):Promise.resolve(s).then(r,i)}function Kn(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function c(e){Xn(o,r,i,c,a,"next",e)}function a(e){Xn(o,r,i,c,a,"throw",e)}c(void 0)}))}}function Qn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function er(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Qn(e,t,n[t])}))}return e}var tr=function(e,t){var n,r=(0,qn.ZP)(e&&t?["nft",e,t]:null,Kn(u().mark((function n(){var r,i;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,b.hb)(e,t);case 2:if(!(r=n.sent)){n.next=6;break}return i={tokenId:t,collectionAddress:e,collectionName:r.collection.name,name:r.name,description:r.description,image:r.image,attributes:r.attributes},n.abrupt("return",i);case 6:return n.abrupt("return",null);case 7:case"end":return n.stop()}}),n)})))),i=r.data,o=r.mutate,c=(0,qn.ZP)(e&&t?["nft","marketData",e,t]:null,Kn(u().mark((function n(){var r;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,b.T5)({collection:e.toLowerCase(),tokenId:t},1);case 2:return r=n.sent,n.abrupt("return",r[0]);case 4:case"end":return n.stop()}}),n)})))),a=c.data,s=c.mutate,l=function(e,t,n){var r=(0,d.Ge)().account,i=(0,$.HQ)(e).reader,o=(0,Ce.Un)(),c=o.isInitialized,a=o.profile;return(0,qn.ZP)(r&&c&&i?["nft","own",e,t,null===n||void 0===n?void 0:n.currentSeller]:null,Kn(u().mark((function o(){var c,s,l,f,d;return u().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=3,i.ownerOf(t);case 3:return s=o.sent,l=!1,f=t===(null===a||void 0===a||null===(c=a.tokenId)||void 0===c?void 0:c.toString())&&e===(null===a||void 0===a?void 0:a.collectionAddress),n&&"0x0000000000000000000000000000000000000000"!==(null===n||void 0===n?void 0:n.currentSeller)?(l=(null===n||void 0===n?void 0:n.currentSeller.toLowerCase())===r.toLowerCase(),d=De.Fb.FORSALE):f?(l=!0,d=De.Fb.PROFILE):(l=s.toLowerCase()===r.toLowerCase(),d=De.Fb.WALLET),o.abrupt("return",{isOwn:l,nftIsProfilePic:f,location:d});case 11:case"end":return o.stop()}}),o)}))))}(e,t,a),x=l.data,p=l.mutate,h=l.status,m=(0,f.useCallback)(Kn(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o();case 2:return e.next=4,s();case 4:return e.next=6,p();case 6:case"end":return e.stop()}}),e)}))),[o,s,p]);return{combinedNft:i?er({},i,{marketData:a,location:null!==(n=null===x||void 0===x?void 0:x.location)&&void 0!==n?n:De.Fb.WALLET}):void 0,isOwn:(null===x||void 0===x?void 0:x.isOwn)||!1,isProfilePic:(null===x||void 0===x?void 0:x.nftIsProfilePic)||!1,isLoading:h!==fe.iF.Fetched,refetch:m}};function nr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rr(){var e,t,n=(e=["\n  gap: 22px;\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return rr=function(){return n},n}var ir=(0,q.ZP)(x.Z)(rr()),or=function(e){var t,n=e.collectionAddress,r=e.tokenId,i=(0,v.YD)(n),c=(0,S.Z)(n),s=c.data,l=c.isFetching,u=tr(n,r),f=u.combinedNft,d=u.isOwn,p=u.isProfilePic,h=u.isLoading,b=u.refetch;if(!f||!i)return(0,o.jsx)(a.Z,{});var j=f.attributes;return(0,o.jsxs)(m.Z,{children:[(0,o.jsx)(jn,{nft:f,isOwnNft:d,nftIsProfilePic:p,onSuccess:b}),(0,o.jsxs)(we.Tk,{flexDirection:["column","column","row"],children:[(0,o.jsxs)(x.Z,{flexDirection:"column",width:"100%",children:[(0,o.jsx)(An,{nft:f,isOwnNft:d,isLoading:h,onSuccess:b}),(0,o.jsx)(pt,{properties:j,rarity:s&&!l?Object.keys(s).reduce((function(e,t){var n,r=pn()(Object.values(s[t])),i=null===(n=f.attributes.find((function(e){return e.traitType===t})))||void 0===n?void 0:n.value,o=s[t][i];return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){nr(e,t,n[t])}))}return e}({},e,nr({},t,o/r*100))}),{}):{}}),(0,o.jsx)(yt,{contractAddress:n,ipfsJson:null===f||void 0===f||null===(t=f.marketData)||void 0===t?void 0:t.metadataUrl})]}),(0,o.jsxs)(ir,{flexDirection:"column",width:"100%",children:[(0,o.jsx)(Wn,{nft:f,isOwnNft:d,nftIsProfilePic:p,onSuccess:b}),(0,o.jsx)(Hn,{nft:f})]})]}),(0,o.jsx)(Mt,{collectionAddress:n,currentTokenName:f.name})]})},cr=function(){var e=(0,c.useRouter)(),t=e.query,n=t.collectionAddress,r=t.tokenId;return e.isFallback?(0,o.jsx)(a.Z,{}):String(n).toLowerCase()===s.Jr.toLowerCase()?(0,o.jsx)(dn,{bunnyId:String(r)}):(0,o.jsx)(or,{collectionAddress:String(n),tokenId:String(r)})},ar=!0,sr=function(e){var t=e.fallback,n=void 0===t?{}:t;return(0,o.jsx)(qn.J$,{value:{fallback:n},children:(0,o.jsx)(cr,{})})}},90570:function(e,t,n){"use strict";function r(e){switch(e.split(":")[0].toLowerCase()){case"https":return[e];case"http":return["https".concat(e.substr(4)),e];case"ipfs":var t,n=null===(t=e.match(/^ipfs:(\/\/)?(.*)$/i))||void 0===t?void 0:t[2];return["https://cloudflare-ipfs.com/ipfs/".concat(n,"/"),"https://ipfs.io/ipfs/".concat(n,"/")];case"ipns":var r,i=null===(r=e.match(/^ipns:(\/\/)?(.*)$/i))||void 0===r?void 0:r[2];return["https://cloudflare-ipfs.com/ipns/".concat(i,"/"),"https://ipfs.io/ipns/".concat(i,"/")];default:return[]}}n.d(t,{Z:function(){return r}})},11527:function(e,t,n){"use strict";n.d(t,{f:function(){return a}});var r=n(2593),i=n(75186);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var a=function(e){var t,n=e.askOrders,o=void 0===n?[]:n,a=e.transactions,s=void 0===a?[]:a,l=c((t=o,t.map((function(e){return{marketEvent:function(e){switch(e){case i.cP.CANCEL:return i.YG.CANCEL;case i.cP.MODIFY:return i.YG.MODIFY;case i.cP.NEW:return i.YG.NEW;default:return i.YG.MODIFY}}(e.orderType),price:e.askPrice,timestamp:e.timestamp,nft:e.nft,tx:e.id,seller:null===e||void 0===e?void 0:e.seller.id}})))).concat(c(s.map((function(e){var t=i.YG.SELL,n=e.timestamp,r=e.nft;return{marketEvent:t,price:e.askPrice,timestamp:n,nft:r,tx:e.id,buyer:e.buyer.id,seller:e.seller.id}}))));return l.length>0?l.sort((function(e,t){var n=r.O$.from(e.timestamp);return r.O$.from(t.timestamp).sub(n).toNumber()})):[]}},98695:function(e,t,n){"use strict";var r=n(34051),i=n.n(r),o=n(67294),c=n(86849),a=n(40580);function s(e,t,n,r,i,o,c){try{var a=e[o](c),s=a.value}catch(l){return void n(l)}a.done?t(s):Promise.resolve(s).then(r,i)}t.Z=function(e){var t=(0,o.useState)(null),n=t[0],r=t[1],l=e===a.Jr;return(0,o.useEffect)((function(){var e=function(){var e,t=(e=i().mark((function e(){var t,n,o,s,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.Rq)(a.Jr);case 2:return t=e.sent.data,n=Object.keys(t),e.next=6,(0,c.LU)(n);case 6:return o=e.sent,e.next=9,(0,c.nP)(n);case 9:s=e.sent,l=n.map((function(e){return{tokenId:t[e].name,name:t[e].name,description:t[e].description,collectionAddress:a.Jr,collectionName:t[e].collection.name,image:t[e].image,attributes:[{traitType:"bunnyId",value:e,displayType:null}],meta:{currentAskPrice:o[e],updatedAt:s[e]}}})),r(l);case 12:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function c(e){s(o,r,i,c,a,"next",e)}function a(e){s(o,r,i,c,a,"throw",e)}c(void 0)}))});return function(){return t.apply(this,arguments)}}();l&&!n&&e()}),[l,n]),n}},74437:function(e,t,n){"use strict";n.d(t,{q:function(){return j}});var r=n(34051),i=n.n(r),o=n(67294),c=n(86849),a=n(55878),s=n(41144),l=n(32538),u=n(80154),f=n(97971),d=n(40580);function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t,n,r,i,o,c){try{var a=e[o](c),s=a.value}catch(l){return void n(l)}a.done?t(s):Promise.resolve(s).then(r,i)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function c(e){p(o,r,i,c,a,"next",e)}function a(e){p(o,r,i,c,a,"throw",e)}c(void 0)}))}}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){m(e,t,n[t])}))}return e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],c=!0,a=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);c=!0);}catch(s){a=!0,i=s}finally{try{c||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var j=function(){var e=(0,o.useState)({isFetching:!1,data:null}),t=e[0],n=e[1];return(0,o.useEffect)((function(){var e=function(){var e=h(i().mark((function e(){var t,r,o,u,f,x;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n((function(e){return v({},e,{isFetching:!0})})),e.prev=2,e.next=5,(0,c.Rq)(d.Jr);case 5:t=e.sent,e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(2),n((function(e){return v({},e,{isFetching:!1})})),e.abrupt("return");case 12:return r=Object.keys(t.attributesDistribution),o=r.map((function(e){return{address:(0,a.Bs)(),name:"bunnyCount",params:[e]}})),e.prev=14,e.next=17,(0,s.v)(l,o);case 17:u=e.sent,f=u.reduce((function(e,n,i){return v({},e,m({},r[i],v({},t.data[i],{tokenCount:n[0].toNumber()})))}),{}),n({isFetching:!1,data:f}),e.next=26;break;case 22:e.prev=22,e.t1=e.catch(14),x=Object.entries(t.data).reduce((function(e,n){var r=b(n,2),i=r[0];return v({},e,m({},i,v({},r[1],{tokenCount:t.attributesDistribution[i]})))}),{}),n({isFetching:!1,data:x});case 26:case"end":return e.stop()}}),e,null,[[2,8],[14,22]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),t};t.Z=function(e){var t=(0,u.Z)(e?["distribution",e]:null,h(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,c.iE)(e);case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),t)}))));return{data:t.data,isFetching:t.status!==f.iF.Fetched}}}},function(e){e.O(0,[5675,2020,6862,7004,4693,2319,7358,9456,6165,9774,2888,179],(function(){return t=96182,e(e.s=t);var t}));var t=e.O();_N_E=t}]);